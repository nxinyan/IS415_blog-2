<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">

<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/>
  <meta name="generator" content="distill" />

  <style type="text/css">
  /* Hide doc at startup (prevent jankiness while JS renders/transforms) */
  body {
    visibility: hidden;
  }
  </style>

 <!--radix_placeholder_import_source-->
 <!--/radix_placeholder_import_source-->

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ad0000; } /* Alert */
code span.an { color: #5e5e5e; } /* Annotation */
code span.at { color: #20794d; } /* Attribute */
code span.bn { color: #ad0000; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007ba5; } /* ControlFlow */
code span.ch { color: #20794d; } /* Char */
code span.cn { color: #8f5902; } /* Constant */
code span.co { color: #5e5e5e; } /* Comment */
code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
code span.dt { color: #ad0000; } /* DataType */
code span.dv { color: #ad0000; } /* DecVal */
code span.er { color: #ad0000; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #ad0000; } /* Float */
code span.fu { color: #4758ab; } /* Function */
code span.im { } /* Import */
code span.in { color: #5e5e5e; } /* Information */
code span.kw { color: #007ba5; } /* Keyword */
code span.op { color: #5e5e5e; } /* Operator */
code span.ot { color: #007ba5; } /* Other */
code span.pp { color: #ad0000; } /* Preprocessor */
code span.sc { color: #20794d; } /* SpecialChar */
code span.ss { color: #20794d; } /* SpecialString */
code span.st { color: #20794d; } /* String */
code span.va { color: #111111; } /* Variable */
code span.vs { color: #20794d; } /* VerbatimString */
code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
</style>

  <!--radix_placeholder_meta_tags-->
  <title>Take Home Exercise 2</title>

  <meta property="description" itemprop="description" content="In this Take-home Exericse, (A) an investigation will be conducted to see if the distribution of Airbnb listings is affected by location factors and (B) analyse the impact of COVID-19 on Airbnb business in Singapore by comparing Airbnb listings data on June 2019 and June 2021."/>


  <!--  https://schema.org/Article -->
  <meta property="article:published" itemprop="datePublished" content="2021-09-26"/>
  <meta property="article:created" itemprop="dateCreated" content="2021-09-26"/>
  <meta name="article:author" content="Ngah Xin Yan"/>

  <!--  https://developers.facebook.com/docs/sharing/webmasters#markup -->
  <meta property="og:title" content="Take Home Exercise 2"/>
  <meta property="og:type" content="article"/>
  <meta property="og:description" content="In this Take-home Exericse, (A) an investigation will be conducted to see if the distribution of Airbnb listings is affected by location factors and (B) analyse the impact of COVID-19 on Airbnb business in Singapore by comparing Airbnb listings data on June 2019 and June 2021."/>
  <meta property="og:locale" content="en_US"/>

  <!--  https://dev.twitter.com/cards/types/summary -->
  <meta property="twitter:card" content="summary"/>
  <meta property="twitter:title" content="Take Home Exercise 2"/>
  <meta property="twitter:description" content="In this Take-home Exericse, (A) an investigation will be conducted to see if the distribution of Airbnb listings is affected by location factors and (B) analyse the impact of COVID-19 on Airbnb business in Singapore by comparing Airbnb listings data on June 2019 and June 2021."/>

  <!--/radix_placeholder_meta_tags-->
  <!--radix_placeholder_rmarkdown_metadata-->

  <script type="text/json" id="radix-rmarkdown-metadata">
  {"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["title","description","author","date","output"]}},"value":[{"type":"character","attributes":{},"value":["Take Home Exercise 2"]},{"type":"character","attributes":{},"value":["In this Take-home Exericse, (A) an investigation will be conducted to see if the distribution of Airbnb listings is affected by location factors and (B) analyse the impact of COVID-19 on Airbnb business in Singapore by comparing Airbnb listings data on June 2019 and June 2021.\n"]},{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","url"]}},"value":[{"type":"character","attributes":{},"value":["Ngah Xin Yan"]},{"type":"character","attributes":{},"value":["https://github.com/nxinyan/"]}]}]},{"type":"character","attributes":{},"value":["09-26-2021"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["distill::distill_article"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["self_contained"]}},"value":[{"type":"logical","attributes":{},"value":[false]}]}]}]}
  </script>
  <!--/radix_placeholder_rmarkdown_metadata-->
  
  <script type="text/json" id="radix-resource-manifest">
  {"type":"character","attributes":{},"value":["data/aspatial/airbnb_july2021.csv","data/aspatial/airbnb_june2019.csv","data/aspatial/hotels.csv","data/aspatial/tourism.csv","data/geospatial/CostalOutline.dbf","data/geospatial/CostalOutline.prj","data/geospatial/CostalOutline.sbn","data/geospatial/CostalOutline.sbx","data/geospatial/CostalOutline.shp","data/geospatial/CostalOutline.shx","data/geospatial/MP14_SUBZONE_WEB_PL.dbf","data/geospatial/MP14_SUBZONE_WEB_PL.prj","data/geospatial/MP14_SUBZONE_WEB_PL.sbn","data/geospatial/MP14_SUBZONE_WEB_PL.sbx","data/geospatial/MP14_SUBZONE_WEB_PL.shp","data/geospatial/MP14_SUBZONE_WEB_PL.shp.xml","data/geospatial/MP14_SUBZONE_WEB_PL.shx","data/geospatial/MRTLRTStnPtt.CPG","data/geospatial/MRTLRTStnPtt.dbf","data/geospatial/MRTLRTStnPtt.prj","data/geospatial/MRTLRTStnPtt.sbn","data/geospatial/MRTLRTStnPtt.sbx","data/geospatial/MRTLRTStnPtt.shp","data/geospatial/MRTLRTStnPtt.shp.xml","data/geospatial/MRTLRTStnPtt.shx","take-home-exercise-2_files/anchor-4.2.2/anchor.min.js","take-home-exercise-2_files/bowser-1.9.3/bowser.min.js","take-home-exercise-2_files/distill-2.2.21/template.v2.js","take-home-exercise-2_files/figure-html5/unnamed-chunk-106-1.png","take-home-exercise-2_files/figure-html5/unnamed-chunk-111-1.png","take-home-exercise-2_files/figure-html5/unnamed-chunk-112-1.png","take-home-exercise-2_files/figure-html5/unnamed-chunk-113-1.png","take-home-exercise-2_files/figure-html5/unnamed-chunk-114-1.png","take-home-exercise-2_files/figure-html5/unnamed-chunk-115-1.png","take-home-exercise-2_files/figure-html5/unnamed-chunk-59-1.png","take-home-exercise-2_files/figure-html5/unnamed-chunk-62-1.png","take-home-exercise-2_files/figure-html5/unnamed-chunk-63-1.png","take-home-exercise-2_files/figure-html5/unnamed-chunk-64-1.png","take-home-exercise-2_files/figure-html5/unnamed-chunk-65-1.png","take-home-exercise-2_files/figure-html5/unnamed-chunk-66-1.png","take-home-exercise-2_files/figure-html5/unnamed-chunk-68-1.png","take-home-exercise-2_files/figure-html5/unnamed-chunk-71-1.png","take-home-exercise-2_files/figure-html5/unnamed-chunk-72-1.png","take-home-exercise-2_files/figure-html5/unnamed-chunk-80-1.png","take-home-exercise-2_files/figure-html5/unnamed-chunk-81-1.png","take-home-exercise-2_files/figure-html5/unnamed-chunk-89-1.png","take-home-exercise-2_files/figure-html5/unnamed-chunk-90-1.png","take-home-exercise-2_files/figure-html5/unnamed-chunk-98-1.png","take-home-exercise-2_files/figure-html5/unnamed-chunk-99-1.png","take-home-exercise-2_files/header-attrs-2.11/header-attrs.js","take-home-exercise-2_files/jquery-3.6.0/jquery-3.6.0.js","take-home-exercise-2_files/jquery-3.6.0/jquery-3.6.0.min.js","take-home-exercise-2_files/jquery-3.6.0/jquery-3.6.0.min.map","take-home-exercise-2_files/popper-2.6.0/popper.min.js","take-home-exercise-2_files/tippy-6.2.7/tippy-bundle.umd.min.js","take-home-exercise-2_files/tippy-6.2.7/tippy-light-border.css","take-home-exercise-2_files/tippy-6.2.7/tippy.css","take-home-exercise-2_files/tippy-6.2.7/tippy.umd.min.js","take-home-exercise-2_files/webcomponents-2.0.0/webcomponents.js"]}
  </script>
  <!--radix_placeholder_navigation_in_header-->
  <!--/radix_placeholder_navigation_in_header-->
  <!--radix_placeholder_distill-->

  <style type="text/css">

  body {
    background-color: white;
  }

  .pandoc-table {
    width: 100%;
  }

  .pandoc-table>caption {
    margin-bottom: 10px;
  }

  .pandoc-table th:not([align]) {
    text-align: left;
  }

  .pagedtable-footer {
    font-size: 15px;
  }

  d-byline .byline {
    grid-template-columns: 2fr 2fr;
  }

  d-byline .byline h3 {
    margin-block-start: 1.5em;
  }

  d-byline .byline .authors-affiliations h3 {
    margin-block-start: 0.5em;
  }

  .authors-affiliations .orcid-id {
    width: 16px;
    height:16px;
    margin-left: 4px;
    margin-right: 4px;
    vertical-align: middle;
    padding-bottom: 2px;
  }

  d-title .dt-tags {
    margin-top: 1em;
    grid-column: text;
  }

  .dt-tags .dt-tag {
    text-decoration: none;
    display: inline-block;
    color: rgba(0,0,0,0.6);
    padding: 0em 0.4em;
    margin-right: 0.5em;
    margin-bottom: 0.4em;
    font-size: 70%;
    border: 1px solid rgba(0,0,0,0.2);
    border-radius: 3px;
    text-transform: uppercase;
    font-weight: 500;
  }

  d-article table.gt_table td,
  d-article table.gt_table th {
    border-bottom: none;
  }

  .html-widget {
    margin-bottom: 2.0em;
  }

  .l-screen-inset {
    padding-right: 16px;
  }

  .l-screen .caption {
    margin-left: 10px;
  }

  .shaded {
    background: rgb(247, 247, 247);
    padding-top: 20px;
    padding-bottom: 20px;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  }

  .shaded .html-widget {
    margin-bottom: 0;
    border: 1px solid rgba(0, 0, 0, 0.1);
  }

  .shaded .shaded-content {
    background: white;
  }

  .text-output {
    margin-top: 0;
    line-height: 1.5em;
  }

  .hidden {
    display: none !important;
  }

  d-article {
    padding-top: 2.5rem;
    padding-bottom: 30px;
  }

  d-appendix {
    padding-top: 30px;
  }

  d-article>p>img {
    width: 100%;
  }

  d-article h2 {
    margin: 1rem 0 1.5rem 0;
  }

  d-article h3 {
    margin-top: 1.5rem;
  }

  d-article iframe {
    border: 1px solid rgba(0, 0, 0, 0.1);
    margin-bottom: 2.0em;
    width: 100%;
  }

  /* Tweak code blocks */

  d-article div.sourceCode code,
  d-article pre code {
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  }

  d-article pre,
  d-article div.sourceCode,
  d-article div.sourceCode pre {
    overflow: auto;
  }

  d-article div.sourceCode {
    background-color: white;
  }

  d-article div.sourceCode pre {
    padding-left: 10px;
    font-size: 12px;
    border-left: 2px solid rgba(0,0,0,0.1);
  }

  d-article pre {
    font-size: 12px;
    color: black;
    background: none;
    margin-top: 0;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    line-height: 1.5;

    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;

    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
  }

  d-article pre a {
    border-bottom: none;
  }

  d-article pre a:hover {
    border-bottom: none;
    text-decoration: underline;
  }

  d-article details {
    grid-column: text;
    margin-bottom: 0.8em;
  }

  @media(min-width: 768px) {

  d-article pre,
  d-article div.sourceCode,
  d-article div.sourceCode pre {
    overflow: visible !important;
  }

  d-article div.sourceCode pre {
    padding-left: 18px;
    font-size: 14px;
  }

  d-article pre {
    font-size: 14px;
  }

  }

  figure img.external {
    background: white;
    border: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
    padding: 18px;
    box-sizing: border-box;
  }

  /* CSS for d-contents */

  .d-contents {
    grid-column: text;
    color: rgba(0,0,0,0.8);
    font-size: 0.9em;
    padding-bottom: 1em;
    margin-bottom: 1em;
    padding-bottom: 0.5em;
    margin-bottom: 1em;
    padding-left: 0.25em;
    justify-self: start;
  }

  @media(min-width: 1000px) {
    .d-contents.d-contents-float {
      height: 0;
      grid-column-start: 1;
      grid-column-end: 4;
      justify-self: center;
      padding-right: 3em;
      padding-left: 2em;
    }
  }

  .d-contents nav h3 {
    font-size: 18px;
    margin-top: 0;
    margin-bottom: 1em;
  }

  .d-contents li {
    list-style-type: none
  }

  .d-contents nav > ul {
    padding-left: 0;
  }

  .d-contents ul {
    padding-left: 1em
  }

  .d-contents nav ul li {
    margin-top: 0.6em;
    margin-bottom: 0.2em;
  }

  .d-contents nav a {
    font-size: 13px;
    border-bottom: none;
    text-decoration: none
    color: rgba(0, 0, 0, 0.8);
  }

  .d-contents nav a:hover {
    text-decoration: underline solid rgba(0, 0, 0, 0.6)
  }

  .d-contents nav > ul > li > a {
    font-weight: 600;
  }

  .d-contents nav > ul > li > ul {
    font-weight: inherit;
  }

  .d-contents nav > ul > li > ul > li {
    margin-top: 0.2em;
  }


  .d-contents nav ul {
    margin-top: 0;
    margin-bottom: 0.25em;
  }

  .d-article-with-toc h2:nth-child(2) {
    margin-top: 0;
  }


  /* Figure */

  .figure {
    position: relative;
    margin-bottom: 2.5em;
    margin-top: 1.5em;
  }

  .figure img {
    width: 100%;
  }

  .figure .caption {
    color: rgba(0, 0, 0, 0.6);
    font-size: 12px;
    line-height: 1.5em;
  }

  .figure img.external {
    background: white;
    border: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
    padding: 18px;
    box-sizing: border-box;
  }

  .figure .caption a {
    color: rgba(0, 0, 0, 0.6);
  }

  .figure .caption b,
  .figure .caption strong, {
    font-weight: 600;
    color: rgba(0, 0, 0, 1.0);
  }

  /* Citations */

  d-article .citation {
    color: inherit;
    cursor: inherit;
  }

  div.hanging-indent{
    margin-left: 1em; text-indent: -1em;
  }

  /* Citation hover box */

  .tippy-box[data-theme~=light-border] {
    background-color: rgba(250, 250, 250, 0.95);
  }

  .tippy-content > p {
    margin-bottom: 0;
    padding: 2px;
  }


  /* Tweak 1000px media break to show more text */

  @media(min-width: 1000px) {
    .base-grid,
    distill-header,
    d-title,
    d-abstract,
    d-article,
    d-appendix,
    distill-appendix,
    d-byline,
    d-footnote-list,
    d-citation-list,
    distill-footer {
      grid-template-columns: [screen-start] 1fr [page-start kicker-start] 80px [middle-start] 50px [text-start kicker-end] 65px 65px 65px 65px 65px 65px 65px 65px [text-end gutter-start] 65px [middle-end] 65px [page-end gutter-end] 1fr [screen-end];
      grid-column-gap: 16px;
    }

    .grid {
      grid-column-gap: 16px;
    }

    d-article {
      font-size: 1.06rem;
      line-height: 1.7em;
    }
    figure .caption, .figure .caption, figure figcaption {
      font-size: 13px;
    }
  }

  @media(min-width: 1180px) {
    .base-grid,
    distill-header,
    d-title,
    d-abstract,
    d-article,
    d-appendix,
    distill-appendix,
    d-byline,
    d-footnote-list,
    d-citation-list,
    distill-footer {
      grid-template-columns: [screen-start] 1fr [page-start kicker-start] 60px [middle-start] 60px [text-start kicker-end] 60px 60px 60px 60px 60px 60px 60px 60px [text-end gutter-start] 60px [middle-end] 60px [page-end gutter-end] 1fr [screen-end];
      grid-column-gap: 32px;
    }

    .grid {
      grid-column-gap: 32px;
    }
  }


  /* Get the citation styles for the appendix (not auto-injected on render since
     we do our own rendering of the citation appendix) */

  d-appendix .citation-appendix,
  .d-appendix .citation-appendix {
    font-size: 11px;
    line-height: 15px;
    border-left: 1px solid rgba(0, 0, 0, 0.1);
    padding-left: 18px;
    border: 1px solid rgba(0,0,0,0.1);
    background: rgba(0, 0, 0, 0.02);
    padding: 10px 18px;
    border-radius: 3px;
    color: rgba(150, 150, 150, 1);
    overflow: hidden;
    margin-top: -12px;
    white-space: pre-wrap;
    word-wrap: break-word;
  }

  /* Include appendix styles here so they can be overridden */

  d-appendix {
    contain: layout style;
    font-size: 0.8em;
    line-height: 1.7em;
    margin-top: 60px;
    margin-bottom: 0;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    color: rgba(0,0,0,0.5);
    padding-top: 60px;
    padding-bottom: 48px;
  }

  d-appendix h3 {
    grid-column: page-start / text-start;
    font-size: 15px;
    font-weight: 500;
    margin-top: 1em;
    margin-bottom: 0;
    color: rgba(0,0,0,0.65);
  }

  d-appendix h3 + * {
    margin-top: 1em;
  }

  d-appendix ol {
    padding: 0 0 0 15px;
  }

  @media (min-width: 768px) {
    d-appendix ol {
      padding: 0 0 0 30px;
      margin-left: -30px;
    }
  }

  d-appendix li {
    margin-bottom: 1em;
  }

  d-appendix a {
    color: rgba(0, 0, 0, 0.6);
  }

  d-appendix > * {
    grid-column: text;
  }

  d-appendix > d-footnote-list,
  d-appendix > d-citation-list,
  d-appendix > distill-appendix {
    grid-column: screen;
  }

  /* Include footnote styles here so they can be overridden */

  d-footnote-list {
    contain: layout style;
  }

  d-footnote-list > * {
    grid-column: text;
  }

  d-footnote-list a.footnote-backlink {
    color: rgba(0,0,0,0.3);
    padding-left: 0.5em;
  }



  /* Anchor.js */

  .anchorjs-link {
    /*transition: all .25s linear; */
    text-decoration: none;
    border-bottom: none;
  }
  *:hover > .anchorjs-link {
    margin-left: -1.125em !important;
    text-decoration: none;
    border-bottom: none;
  }

  /* Social footer */

  .social_footer {
    margin-top: 30px;
    margin-bottom: 0;
    color: rgba(0,0,0,0.67);
  }

  .disqus-comments {
    margin-right: 30px;
  }

  .disqus-comment-count {
    border-bottom: 1px solid rgba(0, 0, 0, 0.4);
    cursor: pointer;
  }

  #disqus_thread {
    margin-top: 30px;
  }

  .article-sharing a {
    border-bottom: none;
    margin-right: 8px;
  }

  .article-sharing a:hover {
    border-bottom: none;
  }

  .sidebar-section.subscribe {
    font-size: 12px;
    line-height: 1.6em;
  }

  .subscribe p {
    margin-bottom: 0.5em;
  }


  .article-footer .subscribe {
    font-size: 15px;
    margin-top: 45px;
  }


  .sidebar-section.custom {
    font-size: 12px;
    line-height: 1.6em;
  }

  .custom p {
    margin-bottom: 0.5em;
  }

  /* Styles for listing layout (hide title) */
  .layout-listing d-title, .layout-listing .d-title {
    display: none;
  }

  /* Styles for posts lists (not auto-injected) */


  .posts-with-sidebar {
    padding-left: 45px;
    padding-right: 45px;
  }

  .posts-list .description h2,
  .posts-list .description p {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  }

  .posts-list .description h2 {
    font-weight: 700;
    border-bottom: none;
    padding-bottom: 0;
  }

  .posts-list h2.post-tag {
    border-bottom: 1px solid rgba(0, 0, 0, 0.2);
    padding-bottom: 12px;
  }
  .posts-list {
    margin-top: 60px;
    margin-bottom: 24px;
  }

  .posts-list .post-preview {
    text-decoration: none;
    overflow: hidden;
    display: block;
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
    padding: 24px 0;
  }

  .post-preview-last {
    border-bottom: none !important;
  }

  .posts-list .posts-list-caption {
    grid-column: screen;
    font-weight: 400;
  }

  .posts-list .post-preview h2 {
    margin: 0 0 6px 0;
    line-height: 1.2em;
    font-style: normal;
    font-size: 24px;
  }

  .posts-list .post-preview p {
    margin: 0 0 12px 0;
    line-height: 1.4em;
    font-size: 16px;
  }

  .posts-list .post-preview .thumbnail {
    box-sizing: border-box;
    margin-bottom: 24px;
    position: relative;
    max-width: 500px;
  }
  .posts-list .post-preview img {
    width: 100%;
    display: block;
  }

  .posts-list .metadata {
    font-size: 12px;
    line-height: 1.4em;
    margin-bottom: 18px;
  }

  .posts-list .metadata > * {
    display: inline-block;
  }

  .posts-list .metadata .publishedDate {
    margin-right: 2em;
  }

  .posts-list .metadata .dt-authors {
    display: block;
    margin-top: 0.3em;
    margin-right: 2em;
  }

  .posts-list .dt-tags {
    display: block;
    line-height: 1em;
  }

  .posts-list .dt-tags .dt-tag {
    display: inline-block;
    color: rgba(0,0,0,0.6);
    padding: 0.3em 0.4em;
    margin-right: 0.2em;
    margin-bottom: 0.4em;
    font-size: 60%;
    border: 1px solid rgba(0,0,0,0.2);
    border-radius: 3px;
    text-transform: uppercase;
    font-weight: 500;
  }

  .posts-list img {
    opacity: 1;
  }

  .posts-list img[data-src] {
    opacity: 0;
  }

  .posts-more {
    clear: both;
  }


  .posts-sidebar {
    font-size: 16px;
  }

  .posts-sidebar h3 {
    font-size: 16px;
    margin-top: 0;
    margin-bottom: 0.5em;
    font-weight: 400;
    text-transform: uppercase;
  }

  .sidebar-section {
    margin-bottom: 30px;
  }

  .categories ul {
    list-style-type: none;
    margin: 0;
    padding: 0;
  }

  .categories li {
    color: rgba(0, 0, 0, 0.8);
    margin-bottom: 0;
  }

  .categories li>a {
    border-bottom: none;
  }

  .categories li>a:hover {
    border-bottom: 1px solid rgba(0, 0, 0, 0.4);
  }

  .categories .active {
    font-weight: 600;
  }

  .categories .category-count {
    color: rgba(0, 0, 0, 0.4);
  }


  @media(min-width: 768px) {
    .posts-list .post-preview h2 {
      font-size: 26px;
    }
    .posts-list .post-preview .thumbnail {
      float: right;
      width: 30%;
      margin-bottom: 0;
    }
    .posts-list .post-preview .description {
      float: left;
      width: 45%;
    }
    .posts-list .post-preview .metadata {
      float: left;
      width: 20%;
      margin-top: 8px;
    }
    .posts-list .post-preview p {
      margin: 0 0 12px 0;
      line-height: 1.5em;
      font-size: 16px;
    }
    .posts-with-sidebar .posts-list {
      float: left;
      width: 75%;
    }
    .posts-with-sidebar .posts-sidebar {
      float: right;
      width: 20%;
      margin-top: 60px;
      padding-top: 24px;
      padding-bottom: 24px;
    }
  }


  /* Improve display for browsers without grid (IE/Edge <= 15) */

  .downlevel {
    line-height: 1.6em;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
    margin: 0;
  }

  .downlevel .d-title {
    padding-top: 6rem;
    padding-bottom: 1.5rem;
  }

  .downlevel .d-title h1 {
    font-size: 50px;
    font-weight: 700;
    line-height: 1.1em;
    margin: 0 0 0.5rem;
  }

  .downlevel .d-title p {
    font-weight: 300;
    font-size: 1.2rem;
    line-height: 1.55em;
    margin-top: 0;
  }

  .downlevel .d-byline {
    padding-top: 0.8em;
    padding-bottom: 0.8em;
    font-size: 0.8rem;
    line-height: 1.8em;
  }

  .downlevel .section-separator {
    border: none;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
  }

  .downlevel .d-article {
    font-size: 1.06rem;
    line-height: 1.7em;
    padding-top: 1rem;
    padding-bottom: 2rem;
  }


  .downlevel .d-appendix {
    padding-left: 0;
    padding-right: 0;
    max-width: none;
    font-size: 0.8em;
    line-height: 1.7em;
    margin-bottom: 0;
    color: rgba(0,0,0,0.5);
    padding-top: 40px;
    padding-bottom: 48px;
  }

  .downlevel .footnotes ol {
    padding-left: 13px;
  }

  .downlevel .base-grid,
  .downlevel .distill-header,
  .downlevel .d-title,
  .downlevel .d-abstract,
  .downlevel .d-article,
  .downlevel .d-appendix,
  .downlevel .distill-appendix,
  .downlevel .d-byline,
  .downlevel .d-footnote-list,
  .downlevel .d-citation-list,
  .downlevel .distill-footer,
  .downlevel .appendix-bottom,
  .downlevel .posts-container {
    padding-left: 40px;
    padding-right: 40px;
  }

  @media(min-width: 768px) {
    .downlevel .base-grid,
    .downlevel .distill-header,
    .downlevel .d-title,
    .downlevel .d-abstract,
    .downlevel .d-article,
    .downlevel .d-appendix,
    .downlevel .distill-appendix,
    .downlevel .d-byline,
    .downlevel .d-footnote-list,
    .downlevel .d-citation-list,
    .downlevel .distill-footer,
    .downlevel .appendix-bottom,
    .downlevel .posts-container {
    padding-left: 150px;
    padding-right: 150px;
    max-width: 900px;
  }
  }

  .downlevel pre code {
    display: block;
    border-left: 2px solid rgba(0, 0, 0, .1);
    padding: 0 0 0 20px;
    font-size: 14px;
  }

  .downlevel code, .downlevel pre {
    color: black;
    background: none;
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    line-height: 1.5;

    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;

    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
  }

  .downlevel .posts-list .post-preview {
    color: inherit;
  }



  </style>

  <script type="application/javascript">

  function is_downlevel_browser() {
    if (bowser.isUnsupportedBrowser({ msie: "12", msedge: "16"},
                                   window.navigator.userAgent)) {
      return true;
    } else {
      return window.load_distill_framework === undefined;
    }
  }

  // show body when load is complete
  function on_load_complete() {

    // add anchors
    if (window.anchors) {
      window.anchors.options.placement = 'left';
      window.anchors.add('d-article > h2, d-article > h3, d-article > h4, d-article > h5');
    }


    // set body to visible
    document.body.style.visibility = 'visible';

    // force redraw for leaflet widgets
    if (window.HTMLWidgets) {
      var maps = window.HTMLWidgets.findAll(".leaflet");
      $.each(maps, function(i, el) {
        var map = this.getMap();
        map.invalidateSize();
        map.eachLayer(function(layer) {
          if (layer instanceof L.TileLayer)
            layer.redraw();
        });
      });
    }

    // trigger 'shown' so htmlwidgets resize
    $('d-article').trigger('shown');
  }

  function init_distill() {

    init_common();

    // create front matter
    var front_matter = $('<d-front-matter></d-front-matter>');
    $('#distill-front-matter').wrap(front_matter);

    // create d-title
    $('.d-title').changeElementType('d-title');

    // create d-byline
    var byline = $('<d-byline></d-byline>');
    $('.d-byline').replaceWith(byline);

    // create d-article
    var article = $('<d-article></d-article>');
    $('.d-article').wrap(article).children().unwrap();

    // move posts container into article
    $('.posts-container').appendTo($('d-article'));

    // create d-appendix
    $('.d-appendix').changeElementType('d-appendix');

    // flag indicating that we have appendix items
    var appendix = $('.appendix-bottom').children('h3').length > 0;

    // replace footnotes with <d-footnote>
    $('.footnote-ref').each(function(i, val) {
      appendix = true;
      var href = $(this).attr('href');
      var id = href.replace('#', '');
      var fn = $('#' + id);
      var fn_p = $('#' + id + '>p');
      fn_p.find('.footnote-back').remove();
      var text = fn_p.html();
      var dtfn = $('<d-footnote></d-footnote>');
      dtfn.html(text);
      $(this).replaceWith(dtfn);
    });
    // remove footnotes
    $('.footnotes').remove();

    // move refs into #references-listing
    $('#references-listing').replaceWith($('#refs'));

    $('h1.appendix, h2.appendix').each(function(i, val) {
      $(this).changeElementType('h3');
    });
    $('h3.appendix').each(function(i, val) {
      var id = $(this).attr('id');
      $('.d-contents a[href="#' + id + '"]').parent().remove();
      appendix = true;
      $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('d-appendix'));
    });

    // show d-appendix if we have appendix content
    $("d-appendix").css('display', appendix ? 'grid' : 'none');

    // localize layout chunks to just output
    $('.layout-chunk').each(function(i, val) {

      // capture layout
      var layout = $(this).attr('data-layout');

      // apply layout to markdown level block elements
      var elements = $(this).children().not('details, div.sourceCode, pre, script');
      elements.each(function(i, el) {
        var layout_div = $('<div class="' + layout + '"></div>');
        if (layout_div.hasClass('shaded')) {
          var shaded_content = $('<div class="shaded-content"></div>');
          $(this).wrap(shaded_content);
          $(this).parent().wrap(layout_div);
        } else {
          $(this).wrap(layout_div);
        }
      });


      // unwrap the layout-chunk div
      $(this).children().unwrap();
    });

    // remove code block used to force  highlighting css
    $('.distill-force-highlighting-css').parent().remove();

    // remove empty line numbers inserted by pandoc when using a
    // custom syntax highlighting theme
    $('code.sourceCode a:empty').remove();

    // load distill framework
    load_distill_framework();

    // wait for window.distillRunlevel == 4 to do post processing
    function distill_post_process() {

      if (!window.distillRunlevel || window.distillRunlevel < 4)
        return;

      // hide author/affiliations entirely if we have no authors
      var front_matter = JSON.parse($("#distill-front-matter").html());
      var have_authors = front_matter.authors && front_matter.authors.length > 0;
      if (!have_authors)
        $('d-byline').addClass('hidden');

      // article with toc class
      $('.d-contents').parent().addClass('d-article-with-toc');

      // strip links that point to #
      $('.authors-affiliations').find('a[href="#"]').removeAttr('href');

      // add orcid ids
      $('.authors-affiliations').find('.author').each(function(i, el) {
        var orcid_id = front_matter.authors[i].orcidID;
        if (orcid_id) {
          var a = $('<a></a>');
          a.attr('href', 'https://orcid.org/' + orcid_id);
          var img = $('<img></img>');
          img.addClass('orcid-id');
          img.attr('alt', 'ORCID ID');
          img.attr('src','data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg==');
          a.append(img);
          $(this).append(a);
        }
      });

      // hide elements of author/affiliations grid that have no value
      function hide_byline_column(caption) {
        $('d-byline').find('h3:contains("' + caption + '")').parent().css('visibility', 'hidden');
      }

      // affiliations
      var have_affiliations = false;
      for (var i = 0; i<front_matter.authors.length; ++i) {
        var author = front_matter.authors[i];
        if (author.affiliation !== "&nbsp;") {
          have_affiliations = true;
          break;
        }
      }
      if (!have_affiliations)
        $('d-byline').find('h3:contains("Affiliations")').css('visibility', 'hidden');

      // published date
      if (!front_matter.publishedDate)
        hide_byline_column("Published");

      // document object identifier
      var doi = $('d-byline').find('h3:contains("DOI")');
      var doi_p = doi.next().empty();
      if (!front_matter.doi) {
        // if we have a citation and valid citationText then link to that
        if ($('#citation').length > 0 && front_matter.citationText) {
          doi.html('Citation');
          $('<a href="#citation"></a>')
            .text(front_matter.citationText)
            .appendTo(doi_p);
        } else {
          hide_byline_column("DOI");
        }
      } else {
        $('<a></a>')
           .attr('href', "https://doi.org/" + front_matter.doi)
           .html(front_matter.doi)
           .appendTo(doi_p);
      }

       // change plural form of authors/affiliations
      if (front_matter.authors.length === 1) {
        var grid = $('.authors-affiliations');
        grid.children('h3:contains("Authors")').text('Author');
        grid.children('h3:contains("Affiliations")').text('Affiliation');
      }

      // remove d-appendix and d-footnote-list local styles
      $('d-appendix > style:first-child').remove();
      $('d-footnote-list > style:first-child').remove();

      // move appendix-bottom entries to the bottom
      $('.appendix-bottom').appendTo('d-appendix').children().unwrap();
      $('.appendix-bottom').remove();

      // hoverable references
      $('span.citation[data-cites]').each(function() {
        var refHtml = $('#ref-' + $(this).attr('data-cites')).html();
        window.tippy(this, {
          allowHTML: true,
          content: refHtml,
          maxWidth: 500,
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        });
      });

      // clear polling timer
      clearInterval(tid);

      // show body now that everything is ready
      on_load_complete();
    }

    var tid = setInterval(distill_post_process, 50);
    distill_post_process();

  }

  function init_downlevel() {

    init_common();

     // insert hr after d-title
    $('.d-title').after($('<hr class="section-separator"/>'));

    // check if we have authors
    var front_matter = JSON.parse($("#distill-front-matter").html());
    var have_authors = front_matter.authors && front_matter.authors.length > 0;

    // manage byline/border
    if (!have_authors)
      $('.d-byline').remove();
    $('.d-byline').after($('<hr class="section-separator"/>'));
    $('.d-byline a').remove();

    // remove toc
    $('.d-contents').remove();

    // move appendix elements
    $('h1.appendix, h2.appendix').each(function(i, val) {
      $(this).changeElementType('h3');
    });
    $('h3.appendix').each(function(i, val) {
      $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('.d-appendix'));
    });


    // inject headers into references and footnotes
    var refs_header = $('<h3></h3>');
    refs_header.text('References');
    $('#refs').prepend(refs_header);

    var footnotes_header = $('<h3></h3');
    footnotes_header.text('Footnotes');
    $('.footnotes').children('hr').first().replaceWith(footnotes_header);

    // move appendix-bottom entries to the bottom
    $('.appendix-bottom').appendTo('.d-appendix').children().unwrap();
    $('.appendix-bottom').remove();

    // remove appendix if it's empty
    if ($('.d-appendix').children().length === 0)
      $('.d-appendix').remove();

    // prepend separator above appendix
    $('.d-appendix').before($('<hr class="section-separator" style="clear: both"/>'));

    // trim code
    $('pre>code').each(function(i, val) {
      $(this).html($.trim($(this).html()));
    });

    // move posts-container right before article
    $('.posts-container').insertBefore($('.d-article'));

    $('body').addClass('downlevel');

    on_load_complete();
  }


  function init_common() {

    // jquery plugin to change element types
    (function($) {
      $.fn.changeElementType = function(newType) {
        var attrs = {};

        $.each(this[0].attributes, function(idx, attr) {
          attrs[attr.nodeName] = attr.nodeValue;
        });

        this.replaceWith(function() {
          return $("<" + newType + "/>", attrs).append($(this).contents());
        });
      };
    })(jQuery);

    // prevent underline for linked images
    $('a > img').parent().css({'border-bottom' : 'none'});

    // mark non-body figures created by knitr chunks as 100% width
    $('.layout-chunk').each(function(i, val) {
      var figures = $(this).find('img, .html-widget');
      if ($(this).attr('data-layout') !== "l-body") {
        figures.css('width', '100%');
      } else {
        figures.css('max-width', '100%');
        figures.filter("[width]").each(function(i, val) {
          var fig = $(this);
          fig.css('width', fig.attr('width') + 'px');
        });

      }
    });

    // auto-append index.html to post-preview links in file: protocol
    // and in rstudio ide preview
    $('.post-preview').each(function(i, val) {
      if (window.location.protocol === "file:")
        $(this).attr('href', $(this).attr('href') + "index.html");
    });

    // get rid of index.html references in header
    if (window.location.protocol !== "file:") {
      $('.distill-site-header a[href]').each(function(i,val) {
        $(this).attr('href', $(this).attr('href').replace("index.html", "./"));
      });
    }

    // add class to pandoc style tables
    $('tr.header').parent('thead').parent('table').addClass('pandoc-table');
    $('.kable-table').children('table').addClass('pandoc-table');

    // add figcaption style to table captions
    $('caption').parent('table').addClass("figcaption");

    // initialize posts list
    if (window.init_posts_list)
      window.init_posts_list();

    // implmement disqus comment link
    $('.disqus-comment-count').click(function() {
      window.headroom_prevent_pin = true;
      $('#disqus_thread').toggleClass('hidden');
      if (!$('#disqus_thread').hasClass('hidden')) {
        var offset = $(this).offset();
        $(window).resize();
        $('html, body').animate({
          scrollTop: offset.top - 35
        });
      }
    });
  }

  document.addEventListener('DOMContentLoaded', function() {
    if (is_downlevel_browser())
      init_downlevel();
    else
      window.addEventListener('WebComponentsReady', init_distill);
  });

  </script>

  <!--/radix_placeholder_distill-->
  <script src="take-home-exercise-2_files/header-attrs-2.11/header-attrs.js"></script>
  <script src="take-home-exercise-2_files/htmlwidgets-1.5.4/htmlwidgets.js"></script>
  <script src="take-home-exercise-2_files/jquery-3.6.0/jquery-3.6.0.min.js"></script>
  <link href="take-home-exercise-2_files/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
  <script src="take-home-exercise-2_files/leaflet-1.3.1/leaflet.js"></script>
  <link href="take-home-exercise-2_files/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
  <script src="take-home-exercise-2_files/proj4-2.6.2/proj4.min.js"></script>
  <script src="take-home-exercise-2_files/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
  <link href="take-home-exercise-2_files/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
  <script src="take-home-exercise-2_files/leaflet-binding-2.0.4.1/leaflet.js"></script>
  <script src="take-home-exercise-2_files/leaflet-providers-1.9.0/leaflet-providers_1.9.0.js"></script>
  <script src="take-home-exercise-2_files/leaflet-providers-plugin-2.0.4.1/leaflet-providers-plugin.js"></script>
  <script src="take-home-exercise-2_files/popper-2.6.0/popper.min.js"></script>
  <link href="take-home-exercise-2_files/tippy-6.2.7/tippy.css" rel="stylesheet" />
  <link href="take-home-exercise-2_files/tippy-6.2.7/tippy-light-border.css" rel="stylesheet" />
  <script src="take-home-exercise-2_files/tippy-6.2.7/tippy.umd.min.js"></script>
  <script src="take-home-exercise-2_files/anchor-4.2.2/anchor.min.js"></script>
  <script src="take-home-exercise-2_files/bowser-1.9.3/bowser.min.js"></script>
  <script src="take-home-exercise-2_files/webcomponents-2.0.0/webcomponents.js"></script>
  <script src="take-home-exercise-2_files/distill-2.2.21/template.v2.js"></script>
  <!--radix_placeholder_site_in_header-->
  <!--/radix_placeholder_site_in_header-->


</head>

<body>

<!--radix_placeholder_front_matter-->

<script id="distill-front-matter" type="text/json">
{"title":"Take Home Exercise 2","description":"In this Take-home Exericse, (A) an investigation will be conducted to see if the distribution of Airbnb listings is affected by location factors and (B) analyse the impact of COVID-19 on Airbnb business in Singapore by comparing Airbnb listings data on June 2019 and June 2021.","authors":[{"author":"Ngah Xin Yan","authorURL":"https://github.com/nxinyan/","affiliation":"&nbsp;","affiliationURL":"#","orcidID":""}],"publishedDate":"2021-09-26T00:00:00.000+08:00","citationText":"Yan, 2021"}
</script>

<!--/radix_placeholder_front_matter-->
<!--radix_placeholder_navigation_before_body-->
<!--/radix_placeholder_navigation_before_body-->
<!--radix_placeholder_site_before_body-->
<!--/radix_placeholder_site_before_body-->

<div class="d-title">
<h1>Take Home Exercise 2</h1>
<!--radix_placeholder_categories-->
<!--/radix_placeholder_categories-->
<p><p>In this Take-home Exericse, (A) an investigation will be conducted to see if the distribution of Airbnb listings is affected by location factors and (B) analyse the impact of COVID-19 on Airbnb business in Singapore by comparing Airbnb listings data on June 2019 and June 2021.</p></p>
</div>

<div class="d-byline">
  Ngah Xin Yan <a href="https://github.com/nxinyan/" class="uri">https://github.com/nxinyan/</a> 
  
<br/>09-26-2021
</div>

<div class="d-article">
<h2 id="overview">Overview</h2>
<p>The ‘sharing economy’ has seen unparalleled growth in terms of number of users, making it possible for new methods of economic and social interactions.</p>
<p>Airbnb, once belonging to the sharing economy, has expanded into many cities across many countries and successfully transitioned into profitability, showing the valid validity of sharing economy within the global market.</p>
<p>Singapore has yet to legalise short-term rentals offered by platforms such as Airbnb. However, there are datasets for Airbnb listing in Singapore.</p>
<h2 id="objective">Objective</h2>
<h3 id="section-a-airbnb-distribution">Section A: Airbnb Distribution</h3>
<p>To investigate if the distribution of Airbnb listings are affected by location factors</p>
<h3 id="section-b-impact-of-covid-19">Section B: Impact of COVID-19</h3>
<p>To analyse the impact of COVID-19 on Airbnb business in Singapore by comparing Airbnb listings data on June 2019 and June 2021.</p>
<h2 id="data-used">Data Used</h2>
<ul>
<li><strong>Airbnb Listing (June 2019)</strong>: Singapore’s Airbnb listing for 2019 (csv file) from <a href="http://insideairbnb.com/get-the-data.html">Inside Airbnb</a></li>
<li><strong>Airbnb Listing (July 2021)</strong>: Singapore’s Airbnb listing for 2021 (csv file) from <a href="http://insideairbnb.com/get-the-data.html">Inside Airbnb</a></li>
<li><strong>Hotels</strong>: Listing of hotels in Singapore (csv file) from <a href="https://cran.r-project.org/web/packages/onemapsgapi/index.html">OneMap API</a></li>
<li><strong>Tourism</strong>: List of tourist attraction in Singapore (csv file) from <a href="https://cran.r-project.org/web/packages/onemapsgapi/index.html">OneMap API</a></li>
<li><strong>CostalOutline</strong>: National Boundary of Singapore (shp file) from <a href="https://data.gov.sg/dataset/national-map-polygon">data.gov.sg</a></li>
<li><strong>MP14_SUBZONE_WEB_PL</strong>: URA 2014 Master Plan Planning Subzone Boundary Data (shp file) from <a href="https://data.gov.sg/dataset/master-plan-2014-subzone-boundary-web">data.gov.sg</a></li>
<li><strong>MRTLRTStnPtt</strong>: All MRT and LRT stations in Singapore (shp file) from <a href="https://datamall.lta.gov.sg/content/datamall/en/search_datasets.html?searchText=mrt">LTA Datamall</a></li>
</ul>
<h2 id="installing-and-loading-the-r-packages">Installing and Loading the R packages</h2>
<ul>
<li><p><strong>sf</strong>: used to import, manage and process vector-based geospatial data in R.</p></li>
<li><p><a href="https://spatstat.org/"><strong>spatstat</strong></a>: for point pattern analysis.</p></li>
<li><p><a href="https://cran.r-project.org/web/packages/raster/"><strong>raster</strong></a>: reads, writes, manipulates, analyses and model of gridded spatial data.</p></li>
<li><p><a href="https://cran.r-project.org/web/packages/maptools/index.html"><strong>maptools</strong></a>: provides a set of tools for manipulating geographic data.</p></li>
<li><p><a href="https://cran.r-project.org/web/packages/tmap/index.html"><strong>tmap</strong></a>: to plot cartographic quality static point patterns maps or interactive maps by using leaflet API.</p></li>
<li><p><strong>tidyverse</strong>: to perform data science tasks such as importing, wrangling and visualising data</p></li>
</ul>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>packages</span> <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>'maptools'</span>, <span class='st'>'sf'</span>, <span class='st'>'raster'</span>,<span class='st'>'spatstat'</span>, <span class='st'>'tmap'</span>,<span class='st'>'tidyverse'</span>,<span class='st'>'rgdal'</span>,<span class='st'>'ggplot2'</span>, <span class='st'>'ggthemes'</span>, <span class='st'>'plotly'</span><span class='op'>)</span>
<span class='kw'>for</span> <span class='op'>(</span><span class='va'>p</span> <span class='kw'>in</span> <span class='va'>packages</span><span class='op'>)</span><span class='op'>{</span>
  <span class='kw'>if</span><span class='op'>(</span><span class='op'>!</span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>require</a></span><span class='op'>(</span><span class='va'>p</span>, character.only <span class='op'>=</span> <span class='cn'>T</span><span class='op'>)</span><span class='op'>)</span><span class='op'>{</span>
    <span class='fu'><a href='https://rdrr.io/r/utils/install.packages.html'>install.packages</a></span><span class='op'>(</span><span class='va'>p</span><span class='op'>)</span>
  <span class='op'>}</span>
  <span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'>p</span>,character.only <span class='op'>=</span> <span class='cn'>T</span><span class='op'>)</span>
<span class='op'>}</span>
</code></pre>
</div>
</div>
<h2 id="data-extraction-wrangling-and-integration">Data Extraction, Wrangling and Integration</h2>
<h3 id="importing-geospatial-data">Importing Geospatial Data</h3>
<p>Importing the following geospatial dataset into R by using <em>st_read()</em> of <strong>sf</strong> package</p>
<p><strong><code>MP14_SUBZONE_WEB_PL</code></strong></p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>mpsz</span> <span class='op'>=</span> <span class='fu'>st_read</span><span class='op'>(</span>dsn <span class='op'>=</span> <span class='st'>"data/geospatial"</span>, 
                  layer <span class='op'>=</span> <span class='st'>"MP14_SUBZONE_WEB_PL"</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>Reading layer `MP14_SUBZONE_WEB_PL&#39; from data source 
  `C:\nxinyan\IS415\IS415_blog-2\_posts\2021-10-26-take-home-exercise-2\data\geospatial&#39; 
  using driver `ESRI Shapefile&#39;
Simple feature collection with 323 features and 15 fields
Geometry type: MULTIPOLYGON
Dimension:     XY
Bounding box:  xmin: 2667.538 ymin: 15748.72 xmax: 56396.44 ymax: 50256.33
Projected CRS: SVY21</code></pre>
</div>
<p><strong><code>CostalOutline</code></strong></p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>sg</span> <span class='op'>&lt;-</span> <span class='fu'>st_read</span><span class='op'>(</span>dsn <span class='op'>=</span> <span class='st'>"data/geospatial"</span>, layer<span class='op'>=</span><span class='st'>"CostalOutline"</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>Reading layer `CostalOutline&#39; from data source 
  `C:\nxinyan\IS415\IS415_blog-2\_posts\2021-10-26-take-home-exercise-2\data\geospatial&#39; 
  using driver `ESRI Shapefile&#39;
Simple feature collection with 60 features and 4 fields
Geometry type: POLYGON
Dimension:     XY
Bounding box:  xmin: 2663.926 ymin: 16357.98 xmax: 56047.79 ymax: 50244.03
Projected CRS: SVY21</code></pre>
</div>
<p><strong><code>MRTLRTStnPtt</code></strong></p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>mrtlrt</span> <span class='op'>&lt;-</span> <span class='fu'>st_read</span><span class='op'>(</span>dsn <span class='op'>=</span> <span class='st'>"data/geospatial"</span>, layer<span class='op'>=</span><span class='st'>"MRTLRTStnPtt"</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>Reading layer `MRTLRTStnPtt&#39; from data source 
  `C:\nxinyan\IS415\IS415_blog-2\_posts\2021-10-26-take-home-exercise-2\data\geospatial&#39; 
  using driver `ESRI Shapefile&#39;
Simple feature collection with 171 features and 3 fields
Geometry type: POINT
Dimension:     XY
Bounding box:  xmin: 6138.311 ymin: 27555.06 xmax: 45254.86 ymax: 47854.2
Projected CRS: SVY21</code></pre>
</div>
<p>The projected CRS of all the data frames are SVY21, which is relevant for analysis in Singapore. However, the EPSG code should be checked as when importing geospatial data into R, the coordinate system of the source data can go missing or be wrongly assigned.</p>
<h3 id="assigning-epsg-code-to-a-simple-feature-data-frame">Assigning EPSG code to a simple feature data frame</h3>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>st_crs</span><span class='op'>(</span><span class='va'>mpsz</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>Coordinate Reference System:
  User input: SVY21 
  wkt:
PROJCRS[&quot;SVY21&quot;,
    BASEGEOGCRS[&quot;SVY21[WGS84]&quot;,
        DATUM[&quot;World Geodetic System 1984&quot;,
            ELLIPSOID[&quot;WGS 84&quot;,6378137,298.257223563,
                LENGTHUNIT[&quot;metre&quot;,1]],
            ID[&quot;EPSG&quot;,6326]],
        PRIMEM[&quot;Greenwich&quot;,0,
            ANGLEUNIT[&quot;Degree&quot;,0.0174532925199433]]],
    CONVERSION[&quot;unnamed&quot;,
        METHOD[&quot;Transverse Mercator&quot;,
            ID[&quot;EPSG&quot;,9807]],
        PARAMETER[&quot;Latitude of natural origin&quot;,1.36666666666667,
            ANGLEUNIT[&quot;Degree&quot;,0.0174532925199433],
            ID[&quot;EPSG&quot;,8801]],
        PARAMETER[&quot;Longitude of natural origin&quot;,103.833333333333,
            ANGLEUNIT[&quot;Degree&quot;,0.0174532925199433],
            ID[&quot;EPSG&quot;,8802]],
        PARAMETER[&quot;Scale factor at natural origin&quot;,1,
            SCALEUNIT[&quot;unity&quot;,1],
            ID[&quot;EPSG&quot;,8805]],
        PARAMETER[&quot;False easting&quot;,28001.642,
            LENGTHUNIT[&quot;metre&quot;,1],
            ID[&quot;EPSG&quot;,8806]],
        PARAMETER[&quot;False northing&quot;,38744.572,
            LENGTHUNIT[&quot;metre&quot;,1],
            ID[&quot;EPSG&quot;,8807]]],
    CS[Cartesian,2],
        AXIS[&quot;(E)&quot;,east,
            ORDER[1],
            LENGTHUNIT[&quot;metre&quot;,1,
                ID[&quot;EPSG&quot;,9001]]],
        AXIS[&quot;(N)&quot;,north,
            ORDER[2],
            LENGTHUNIT[&quot;metre&quot;,1,
                ID[&quot;EPSG&quot;,9001]]]]</code></pre>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>st_crs</span><span class='op'>(</span><span class='va'>sg</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>Coordinate Reference System:
  User input: SVY21 
  wkt:
PROJCRS[&quot;SVY21&quot;,
    BASEGEOGCRS[&quot;SVY21[WGS84]&quot;,
        DATUM[&quot;World Geodetic System 1984&quot;,
            ELLIPSOID[&quot;WGS 84&quot;,6378137,298.257223563,
                LENGTHUNIT[&quot;metre&quot;,1]],
            ID[&quot;EPSG&quot;,6326]],
        PRIMEM[&quot;Greenwich&quot;,0,
            ANGLEUNIT[&quot;Degree&quot;,0.0174532925199433]]],
    CONVERSION[&quot;unnamed&quot;,
        METHOD[&quot;Transverse Mercator&quot;,
            ID[&quot;EPSG&quot;,9807]],
        PARAMETER[&quot;Latitude of natural origin&quot;,1.36666666666667,
            ANGLEUNIT[&quot;Degree&quot;,0.0174532925199433],
            ID[&quot;EPSG&quot;,8801]],
        PARAMETER[&quot;Longitude of natural origin&quot;,103.833333333333,
            ANGLEUNIT[&quot;Degree&quot;,0.0174532925199433],
            ID[&quot;EPSG&quot;,8802]],
        PARAMETER[&quot;Scale factor at natural origin&quot;,1,
            SCALEUNIT[&quot;unity&quot;,1],
            ID[&quot;EPSG&quot;,8805]],
        PARAMETER[&quot;False easting&quot;,28001.642,
            LENGTHUNIT[&quot;metre&quot;,1],
            ID[&quot;EPSG&quot;,8806]],
        PARAMETER[&quot;False northing&quot;,38744.572,
            LENGTHUNIT[&quot;metre&quot;,1],
            ID[&quot;EPSG&quot;,8807]]],
    CS[Cartesian,2],
        AXIS[&quot;(E)&quot;,east,
            ORDER[1],
            LENGTHUNIT[&quot;metre&quot;,1,
                ID[&quot;EPSG&quot;,9001]]],
        AXIS[&quot;(N)&quot;,north,
            ORDER[2],
            LENGTHUNIT[&quot;metre&quot;,1,
                ID[&quot;EPSG&quot;,9001]]]]</code></pre>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>st_crs</span><span class='op'>(</span><span class='va'>mrtlrt</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>Coordinate Reference System:
  User input: SVY21 
  wkt:
PROJCRS[&quot;SVY21&quot;,
    BASEGEOGCRS[&quot;SVY21[WGS84]&quot;,
        DATUM[&quot;World Geodetic System 1984&quot;,
            ELLIPSOID[&quot;WGS 84&quot;,6378137,298.257223563,
                LENGTHUNIT[&quot;metre&quot;,1]],
            ID[&quot;EPSG&quot;,6326]],
        PRIMEM[&quot;Greenwich&quot;,0,
            ANGLEUNIT[&quot;Degree&quot;,0.0174532925199433]]],
    CONVERSION[&quot;unnamed&quot;,
        METHOD[&quot;Transverse Mercator&quot;,
            ID[&quot;EPSG&quot;,9807]],
        PARAMETER[&quot;Latitude of natural origin&quot;,1.36666666666667,
            ANGLEUNIT[&quot;Degree&quot;,0.0174532925199433],
            ID[&quot;EPSG&quot;,8801]],
        PARAMETER[&quot;Longitude of natural origin&quot;,103.833333333333,
            ANGLEUNIT[&quot;Degree&quot;,0.0174532925199433],
            ID[&quot;EPSG&quot;,8802]],
        PARAMETER[&quot;Scale factor at natural origin&quot;,1,
            SCALEUNIT[&quot;unity&quot;,1],
            ID[&quot;EPSG&quot;,8805]],
        PARAMETER[&quot;False easting&quot;,28001.642,
            LENGTHUNIT[&quot;metre&quot;,1],
            ID[&quot;EPSG&quot;,8806]],
        PARAMETER[&quot;False northing&quot;,38744.572,
            LENGTHUNIT[&quot;metre&quot;,1],
            ID[&quot;EPSG&quot;,8807]]],
    CS[Cartesian,2],
        AXIS[&quot;(E)&quot;,east,
            ORDER[1],
            LENGTHUNIT[&quot;metre&quot;,1,
                ID[&quot;EPSG&quot;,9001]]],
        AXIS[&quot;(N)&quot;,north,
            ORDER[2],
            LENGTHUNIT[&quot;metre&quot;,1,
                ID[&quot;EPSG&quot;,9001]]]]</code></pre>
</div>
<p>All data frames indicated that the EPSG code is 9001 which is wrong. The EPSG code for SVY21 is 3414.</p>
<p><em>st_crs(sg)</em> of <strong>sf</strong> package will be used to assign the correct EPSG code to all data frames.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>mpsz_sf</span> <span class='op'>&lt;-</span> <span class='fu'>st_transform</span><span class='op'>(</span><span class='va'>mpsz</span>, <span class='fl'>3414</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>sg_sf</span> <span class='op'>&lt;-</span> <span class='fu'>st_transform</span><span class='op'>(</span><span class='va'>sg</span>, <span class='fl'>3414</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>mrtlrt_sf</span> <span class='op'>&lt;-</span> <span class='fu'>st_transform</span><span class='op'>(</span><span class='va'>mrtlrt</span>, <span class='fl'>3414</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<p>Checking CRS again</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>st_crs</span><span class='op'>(</span><span class='va'>mpsz_sf</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>Coordinate Reference System:
  User input: EPSG:3414 
  wkt:
PROJCRS[&quot;SVY21 / Singapore TM&quot;,
    BASEGEOGCRS[&quot;SVY21&quot;,
        DATUM[&quot;SVY21&quot;,
            ELLIPSOID[&quot;WGS 84&quot;,6378137,298.257223563,
                LENGTHUNIT[&quot;metre&quot;,1]]],
        PRIMEM[&quot;Greenwich&quot;,0,
            ANGLEUNIT[&quot;degree&quot;,0.0174532925199433]],
        ID[&quot;EPSG&quot;,4757]],
    CONVERSION[&quot;Singapore Transverse Mercator&quot;,
        METHOD[&quot;Transverse Mercator&quot;,
            ID[&quot;EPSG&quot;,9807]],
        PARAMETER[&quot;Latitude of natural origin&quot;,1.36666666666667,
            ANGLEUNIT[&quot;degree&quot;,0.0174532925199433],
            ID[&quot;EPSG&quot;,8801]],
        PARAMETER[&quot;Longitude of natural origin&quot;,103.833333333333,
            ANGLEUNIT[&quot;degree&quot;,0.0174532925199433],
            ID[&quot;EPSG&quot;,8802]],
        PARAMETER[&quot;Scale factor at natural origin&quot;,1,
            SCALEUNIT[&quot;unity&quot;,1],
            ID[&quot;EPSG&quot;,8805]],
        PARAMETER[&quot;False easting&quot;,28001.642,
            LENGTHUNIT[&quot;metre&quot;,1],
            ID[&quot;EPSG&quot;,8806]],
        PARAMETER[&quot;False northing&quot;,38744.572,
            LENGTHUNIT[&quot;metre&quot;,1],
            ID[&quot;EPSG&quot;,8807]]],
    CS[Cartesian,2],
        AXIS[&quot;northing (N)&quot;,north,
            ORDER[1],
            LENGTHUNIT[&quot;metre&quot;,1]],
        AXIS[&quot;easting (E)&quot;,east,
            ORDER[2],
            LENGTHUNIT[&quot;metre&quot;,1]],
    USAGE[
        SCOPE[&quot;Cadastre, engineering survey, topographic mapping.&quot;],
        AREA[&quot;Singapore - onshore and offshore.&quot;],
        BBOX[1.13,103.59,1.47,104.07]],
    ID[&quot;EPSG&quot;,3414]]</code></pre>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>st_crs</span><span class='op'>(</span><span class='va'>sg_sf</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>Coordinate Reference System:
  User input: EPSG:3414 
  wkt:
PROJCRS[&quot;SVY21 / Singapore TM&quot;,
    BASEGEOGCRS[&quot;SVY21&quot;,
        DATUM[&quot;SVY21&quot;,
            ELLIPSOID[&quot;WGS 84&quot;,6378137,298.257223563,
                LENGTHUNIT[&quot;metre&quot;,1]]],
        PRIMEM[&quot;Greenwich&quot;,0,
            ANGLEUNIT[&quot;degree&quot;,0.0174532925199433]],
        ID[&quot;EPSG&quot;,4757]],
    CONVERSION[&quot;Singapore Transverse Mercator&quot;,
        METHOD[&quot;Transverse Mercator&quot;,
            ID[&quot;EPSG&quot;,9807]],
        PARAMETER[&quot;Latitude of natural origin&quot;,1.36666666666667,
            ANGLEUNIT[&quot;degree&quot;,0.0174532925199433],
            ID[&quot;EPSG&quot;,8801]],
        PARAMETER[&quot;Longitude of natural origin&quot;,103.833333333333,
            ANGLEUNIT[&quot;degree&quot;,0.0174532925199433],
            ID[&quot;EPSG&quot;,8802]],
        PARAMETER[&quot;Scale factor at natural origin&quot;,1,
            SCALEUNIT[&quot;unity&quot;,1],
            ID[&quot;EPSG&quot;,8805]],
        PARAMETER[&quot;False easting&quot;,28001.642,
            LENGTHUNIT[&quot;metre&quot;,1],
            ID[&quot;EPSG&quot;,8806]],
        PARAMETER[&quot;False northing&quot;,38744.572,
            LENGTHUNIT[&quot;metre&quot;,1],
            ID[&quot;EPSG&quot;,8807]]],
    CS[Cartesian,2],
        AXIS[&quot;northing (N)&quot;,north,
            ORDER[1],
            LENGTHUNIT[&quot;metre&quot;,1]],
        AXIS[&quot;easting (E)&quot;,east,
            ORDER[2],
            LENGTHUNIT[&quot;metre&quot;,1]],
    USAGE[
        SCOPE[&quot;Cadastre, engineering survey, topographic mapping.&quot;],
        AREA[&quot;Singapore - onshore and offshore.&quot;],
        BBOX[1.13,103.59,1.47,104.07]],
    ID[&quot;EPSG&quot;,3414]]</code></pre>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>st_crs</span><span class='op'>(</span><span class='va'>mrtlrt_sf</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>Coordinate Reference System:
  User input: EPSG:3414 
  wkt:
PROJCRS[&quot;SVY21 / Singapore TM&quot;,
    BASEGEOGCRS[&quot;SVY21&quot;,
        DATUM[&quot;SVY21&quot;,
            ELLIPSOID[&quot;WGS 84&quot;,6378137,298.257223563,
                LENGTHUNIT[&quot;metre&quot;,1]]],
        PRIMEM[&quot;Greenwich&quot;,0,
            ANGLEUNIT[&quot;degree&quot;,0.0174532925199433]],
        ID[&quot;EPSG&quot;,4757]],
    CONVERSION[&quot;Singapore Transverse Mercator&quot;,
        METHOD[&quot;Transverse Mercator&quot;,
            ID[&quot;EPSG&quot;,9807]],
        PARAMETER[&quot;Latitude of natural origin&quot;,1.36666666666667,
            ANGLEUNIT[&quot;degree&quot;,0.0174532925199433],
            ID[&quot;EPSG&quot;,8801]],
        PARAMETER[&quot;Longitude of natural origin&quot;,103.833333333333,
            ANGLEUNIT[&quot;degree&quot;,0.0174532925199433],
            ID[&quot;EPSG&quot;,8802]],
        PARAMETER[&quot;Scale factor at natural origin&quot;,1,
            SCALEUNIT[&quot;unity&quot;,1],
            ID[&quot;EPSG&quot;,8805]],
        PARAMETER[&quot;False easting&quot;,28001.642,
            LENGTHUNIT[&quot;metre&quot;,1],
            ID[&quot;EPSG&quot;,8806]],
        PARAMETER[&quot;False northing&quot;,38744.572,
            LENGTHUNIT[&quot;metre&quot;,1],
            ID[&quot;EPSG&quot;,8807]]],
    CS[Cartesian,2],
        AXIS[&quot;northing (N)&quot;,north,
            ORDER[1],
            LENGTHUNIT[&quot;metre&quot;,1]],
        AXIS[&quot;easting (E)&quot;,east,
            ORDER[2],
            LENGTHUNIT[&quot;metre&quot;,1]],
    USAGE[
        SCOPE[&quot;Cadastre, engineering survey, topographic mapping.&quot;],
        AREA[&quot;Singapore - onshore and offshore.&quot;],
        BBOX[1.13,103.59,1.47,104.07]],
    ID[&quot;EPSG&quot;,3414]]</code></pre>
</div>
<p>All dataframes has the EPSG code of 3414 now.</p>
<h3 id="importing-aspatial-data">Importing Aspatial Data</h3>
<p>Importing the following aspatial dataset into R dataframe by using <em>read_csv()</em> function of <strong>readr</strong> package in <strong>tidyverse</strong>:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>airbnb_june2019</span> <span class='op'>&lt;-</span> <span class='fu'>read_csv</span><span class='op'>(</span><span class='st'>"data/aspatial/airbnb_june2019.csv"</span><span class='op'>)</span>
<span class='va'>airbnb_july2021</span> <span class='op'>&lt;-</span> <span class='fu'>read_csv</span><span class='op'>(</span><span class='st'>"data/aspatial/airbnb_july2021.csv"</span><span class='op'>)</span>
<span class='va'>hotels</span> <span class='op'>&lt;-</span> <span class='fu'>read_csv</span><span class='op'>(</span><span class='st'>"data/aspatial/hotels.csv"</span><span class='op'>)</span>
<span class='va'>tourism</span> <span class='op'>&lt;-</span> <span class='fu'>read_csv</span><span class='op'>(</span><span class='st'>"data/aspatial/tourism.csv"</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<p>Use <strong><em>glimpse()</em></strong> to learn more about the attribute information in the data frame.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>glimpse</span><span class='op'>(</span><span class='va'>airbnb_june2019</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>Rows: 8,293
Columns: 16
$ id                             &lt;dbl&gt; 49091, 50646, 56334, 71609, 7~
$ name                           &lt;chr&gt; &quot;COZICOMFORT LONG TERM STAY R~
$ host_id                        &lt;dbl&gt; 266763, 227796, 266763, 36704~
$ host_name                      &lt;chr&gt; &quot;Francesca&quot;, &quot;Sujatha&quot;, &quot;Fran~
$ neighbourhood_group            &lt;chr&gt; &quot;North Region&quot;, &quot;Central Regi~
$ neighbourhood                  &lt;chr&gt; &quot;Woodlands&quot;, &quot;Bukit Timah&quot;, &quot;~
$ latitude                       &lt;dbl&gt; 1.44255, 1.33235, 1.44246, 1.~
$ longitude                      &lt;dbl&gt; 103.7958, 103.7852, 103.7967,~
$ room_type                      &lt;chr&gt; &quot;Private room&quot;, &quot;Private room~
$ price                          &lt;dbl&gt; 81, 80, 68, 200, 92, 102, 203~
$ minimum_nights                 &lt;dbl&gt; 180, 90, 6, 1, 1, 1, 1, 7, 30~
$ number_of_reviews              &lt;dbl&gt; 1, 18, 20, 12, 20, 35, 23, 15~
$ last_review                    &lt;date&gt; 2013-10-21, 2014-12-26, 2015~
$ reviews_per_month              &lt;dbl&gt; 0.01, 0.28, 0.21, 0.13, 0.21,~
$ calculated_host_listings_count &lt;dbl&gt; 2, 1, 2, 9, 9, 9, 9, 1, 4, 4,~
$ availability_365               &lt;dbl&gt; 365, 365, 365, 353, 353, 348,~</code></pre>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>glimpse</span><span class='op'>(</span><span class='va'>airbnb_july2021</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>Rows: 4,252
Columns: 18
$ id                             &lt;dbl&gt; 50646, 71609, 71896, 71903, 2~
$ name                           &lt;chr&gt; &quot;Pleasant Room along Bukit Ti~
$ host_id                        &lt;dbl&gt; 227796, 367042, 367042, 36704~
$ host_name                      &lt;chr&gt; &quot;Sujatha&quot;, &quot;Belinda&quot;, &quot;Belind~
$ neighbourhood_group            &lt;chr&gt; &quot;Central Region&quot;, &quot;East Regio~
$ neighbourhood                  &lt;chr&gt; &quot;Bukit Timah&quot;, &quot;Tampines&quot;, &quot;T~
$ latitude                       &lt;dbl&gt; 1.33432, 1.34537, 1.34754, 1.~
$ longitude                      &lt;dbl&gt; 103.7852, 103.9589, 103.9596,~
$ room_type                      &lt;chr&gt; &quot;Private room&quot;, &quot;Private room~
$ price                          &lt;dbl&gt; 80, 178, 81, 81, 52, 40, 72, ~
$ minimum_nights                 &lt;dbl&gt; 90, 90, 90, 90, 14, 14, 90, 8~
$ number_of_reviews              &lt;dbl&gt; 18, 20, 24, 48, 20, 13, 133, ~
$ last_review                    &lt;date&gt; 2014-07-08, 2019-12-28, 2014~
$ reviews_per_month              &lt;dbl&gt; 0.22, 0.28, 0.33, 0.67, 0.20,~
$ calculated_host_listings_count &lt;dbl&gt; 1, 4, 4, 4, 50, 50, 7, 1, 50,~
$ availability_365               &lt;dbl&gt; 365, 365, 365, 365, 353, 364,~
$ number_of_reviews_ltm          &lt;dbl&gt; 0, 0, 0, 0, 0, 1, 0, 0, 0, 0,~
$ license                        &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, N~</code></pre>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>glimpse</span><span class='op'>(</span><span class='va'>hotels</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>Rows: 422
Columns: 9
$ NAME              &lt;chr&gt; &quot;Jayleen Clarke Quay Hotel&quot;, &quot;JEN Singapor~
$ ADDRESSPOSTALCODE &lt;dbl&gt; 59390, 238858, 249716, 399041, 238485, 399~
$ ADDRESSSTREETNAME &lt;chr&gt; &quot;25 New Bridge Road&quot;, &quot;277 Orchard Road , ~
$ HYPERLINK         &lt;chr&gt; &quot;jayleenclarkequay@gmail.com&quot;, &quot;singaporeo~
$ TOTALROOMS        &lt;dbl&gt; 20, 499, 565, 42, 81, 33, 17, 634, 56, 451~
$ KEEPERNAME        &lt;chr&gt; &quot;James Federick Chong Kah Yean&quot;, &quot;Kuok Oon~
$ Lat               &lt;dbl&gt; 1.288715, 1.300510, 1.304271, 1.311586, 1.~
$ Lng               &lt;dbl&gt; 103.8475, 103.8392, 103.8239, 103.8775, 10~
$ ICON_NAME         &lt;chr&gt; &quot;hotel.gif&quot;, &quot;hotel.gif&quot;, &quot;hotel.gif&quot;, &quot;ho~</code></pre>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>glimpse</span><span class='op'>(</span><span class='va'>tourism</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>Rows: 107
Columns: 17
$ NAME              &lt;chr&gt; &quot;Chinatown Heritage Centre, Singapore&quot;, &quot;T~
$ DESCRIPTION       &lt;chr&gt; &quot;Experience how Singapore’s early Chinese ~
$ ADDRESSSTREETNAME &lt;chr&gt; &quot;48 Pagoda Street&quot;, &quot;158 Telok Ayer Street~
$ HYPERLINK         &lt;chr&gt; &quot;http://www.singaporechinatown.com.sg/&quot;, &quot;~
$ PHOTOURL          &lt;chr&gt; &quot;www.yoursingapore.com/content/dam/desktop~
$ URL_PATH          &lt;chr&gt; &quot;www.yoursingapore.com/en/see-do-singapore~
$ IMAGE_ALT_TEXT    &lt;chr&gt; &quot;Learn more about local Chinese culture at~
$ PHOTOCREDITS      &lt;chr&gt; &quot;Joel Chua DY&quot;, &quot;Joel Chua DY&quot;, &quot;Joel Chua~
$ LASTMODIFIED      &lt;dttm&gt; 2015-11-02 02:16:52, 2015-11-02 02:20:57,~
$ LATITUDE          &lt;dbl&gt; 1.283510, 1.280940, 1.310070, 1.277219, 1.~
$ LONGTITUDE        &lt;dbl&gt; 103.8444, 103.8476, 103.8994, 103.8373, 10~
$ META_DESCRIPTION  &lt;chr&gt; &quot;At the Chinatown Heritage Centre, experie~
$ OPENING_HOURS     &lt;chr&gt; &quot;Daily, 9am – 8pm,Last entry at 7pm.*China~
$ Lat               &lt;dbl&gt; 1.283510, 1.280940, 1.310070, 1.277219, 1.~
$ Lng               &lt;dbl&gt; 103.8444, 103.8476, 103.8994, 103.8373, 10~
$ ICON_NAME         &lt;chr&gt; &quot;tourist_spot.gif&quot;, &quot;tourist_spot.gif&quot;, &quot;t~
$ ADDRESSPOSTALCODE &lt;dbl&gt; NA, NA, NA, 0, NA, NA, NA, NA, NA, NA, NA,~</code></pre>
</div>
<p><strong><em>glimpse()</em></strong> report reveals the data type of each fields.</p>
<p>The <strong><em>latitude</em></strong> and <strong><em>longitude</em></strong> column are for the coordinates, which are in decimal degree format. There are also some dataset which uses <strong><em>LATITUDE</em></strong>/<strong><em>LONGITUDE</em></strong> and <strong><em>longitude</em></strong>/<strong><em>Lng</em></strong> columns instead, but it still shows the coordinates in decimal degree format. It is good to assume that the data is in <strong>WGS84</strong> . It has to be assigned to the correct coordinate system to match the geospatial data above.</p>
<h3 id="pre-processing-of-data">Pre-Processing of Data</h3>
<p><strong>Dealing with Missing Values</strong></p>
<p>Using the <strong><em>is.na()</em></strong> function, check for missing value in the <strong><em>latitude</em></strong>/<strong><em>Lat</em></strong> and <strong><em>longitude</em></strong>/<strong><em>Lng</em></strong> column.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/any.html'>any</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/NA.html'>is.na</a></span><span class='op'>(</span><span class='va'>airbnb_june2019</span><span class='op'>$</span><span class='va'>latitude</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] FALSE</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/any.html'>any</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/NA.html'>is.na</a></span><span class='op'>(</span><span class='va'>airbnb_june2019</span><span class='op'>$</span><span class='va'>longitude</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] FALSE</code></pre>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/any.html'>any</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/NA.html'>is.na</a></span><span class='op'>(</span><span class='va'>airbnb_july2021</span><span class='op'>$</span><span class='va'>latitude</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] FALSE</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/any.html'>any</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/NA.html'>is.na</a></span><span class='op'>(</span><span class='va'>airbnb_july2021</span><span class='op'>$</span><span class='va'>longitude</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] FALSE</code></pre>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/any.html'>any</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/NA.html'>is.na</a></span><span class='op'>(</span><span class='va'>hotels</span><span class='op'>$</span><span class='va'>Lat</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] FALSE</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/any.html'>any</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/NA.html'>is.na</a></span><span class='op'>(</span><span class='va'>hotels</span><span class='op'>$</span><span class='va'>Lng</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] FALSE</code></pre>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/any.html'>any</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/NA.html'>is.na</a></span><span class='op'>(</span><span class='va'>tourism</span><span class='op'>$</span><span class='va'>LATITUDE</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] TRUE</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/any.html'>any</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/NA.html'>is.na</a></span><span class='op'>(</span><span class='va'>tourism</span><span class='op'>$</span><span class='va'>LONGTITUDE</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] TRUE</code></pre>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/any.html'>any</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/NA.html'>is.na</a></span><span class='op'>(</span><span class='va'>tourism</span><span class='op'>$</span><span class='va'>Lat</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] FALSE</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/any.html'>any</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/NA.html'>is.na</a></span><span class='op'>(</span><span class='va'>tourism</span><span class='op'>$</span><span class='va'>Lng</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] FALSE</code></pre>
</div>
<p>There are no NA values for <strong><em>airbnb_june2019</em></strong>, <strong><em>airbnb_july2021 </em></strong>, <strong><em>hotels </em></strong> dataset for Latitude and Longitude. However, for <strong><em>tourism </em></strong>, there is missing value in its <strong><em>LATITUDE</em></strong> and <strong><em>Longtitude</em></strong> column. However, there is no missing value in its <strong><em>Lat</em></strong> and <strong><em>Lng</em></strong> column. Thus, the <strong><em>Lat</em></strong> and <strong><em>Lng</em></strong> column will be used to create the simple data frame instead.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>tourism</span> <span class='op'>&lt;-</span> <span class='va'>tourism</span> <span class='op'>%&gt;%</span>
            <span class='fu'>drop_na</span><span class='op'>(</span><span class='st'>"LATITUDE"</span><span class='op'>)</span>

<span class='va'>tourism</span> <span class='op'>&lt;-</span> <span class='va'>tourism</span> <span class='op'>%&gt;%</span>
            <span class='fu'>drop_na</span><span class='op'>(</span><span class='st'>"LONGTITUDE"</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<h3 id="transforming-the-projection-of-coordinate-system">Transforming the projection of coordinate system</h3>
<p>All the data will be converted into simple feature data frame using <strong><em>st_as_sf()</em></strong> function. For the coords argument, <strong><em>longitude</em></strong> will be used as the x-coordinate and <strong><em>latitude</em></strong> will be the y-coordinate. WGS84 geographic coordinate system uses EPSG code 4326 but we have to match our geospatial data projected coordinate system. %&lt;% is used to nest <strong><em>st_transform()</em></strong> trabsform the new simple feature data frame in SVY21 (EPSG: 3414) projected coordinates system.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>airbnb_june2019_sf</span> <span class='op'>&lt;-</span> <span class='fu'>st_as_sf</span><span class='op'>(</span><span class='va'>airbnb_june2019</span>, 
                          coords <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"longitude"</span>, 
                                     <span class='st'>"latitude"</span><span class='op'>)</span>, 
                          crs <span class='op'>=</span> <span class='fl'>4326</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>st_transform</span><span class='op'>(</span>crs<span class='op'>=</span><span class='fl'>3414</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>airbnb_july2021_sf</span> <span class='op'>&lt;-</span> <span class='fu'>st_as_sf</span><span class='op'>(</span><span class='va'>airbnb_july2021</span>, 
                          coords <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"longitude"</span>, 
                                     <span class='st'>"latitude"</span><span class='op'>)</span>, 
                          crs <span class='op'>=</span> <span class='fl'>4326</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>st_transform</span><span class='op'>(</span>crs<span class='op'>=</span><span class='fl'>3414</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>hotels_sf</span> <span class='op'>&lt;-</span> <span class='fu'>st_as_sf</span><span class='op'>(</span><span class='va'>hotels</span>, 
                          coords <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Lng"</span>, 
                                     <span class='st'>"Lat"</span><span class='op'>)</span>, 
                          crs <span class='op'>=</span> <span class='fl'>4326</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>st_transform</span><span class='op'>(</span>crs<span class='op'>=</span><span class='fl'>3414</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>tourism_sf</span> <span class='op'>&lt;-</span> <span class='fu'>st_as_sf</span><span class='op'>(</span><span class='va'>tourism</span>, 
                          coords <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"LONGTITUDE"</span>, 
                                     <span class='st'>"LATITUDE"</span><span class='op'>)</span>, 
                          crs <span class='op'>=</span> <span class='fl'>4326</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>st_transform</span><span class='op'>(</span>crs<span class='op'>=</span><span class='fl'>3414</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<p>Checking CRS again</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>st_crs</span><span class='op'>(</span><span class='va'>airbnb_june2019_sf</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>Coordinate Reference System:
  User input: EPSG:3414 
  wkt:
PROJCRS[&quot;SVY21 / Singapore TM&quot;,
    BASEGEOGCRS[&quot;SVY21&quot;,
        DATUM[&quot;SVY21&quot;,
            ELLIPSOID[&quot;WGS 84&quot;,6378137,298.257223563,
                LENGTHUNIT[&quot;metre&quot;,1]]],
        PRIMEM[&quot;Greenwich&quot;,0,
            ANGLEUNIT[&quot;degree&quot;,0.0174532925199433]],
        ID[&quot;EPSG&quot;,4757]],
    CONVERSION[&quot;Singapore Transverse Mercator&quot;,
        METHOD[&quot;Transverse Mercator&quot;,
            ID[&quot;EPSG&quot;,9807]],
        PARAMETER[&quot;Latitude of natural origin&quot;,1.36666666666667,
            ANGLEUNIT[&quot;degree&quot;,0.0174532925199433],
            ID[&quot;EPSG&quot;,8801]],
        PARAMETER[&quot;Longitude of natural origin&quot;,103.833333333333,
            ANGLEUNIT[&quot;degree&quot;,0.0174532925199433],
            ID[&quot;EPSG&quot;,8802]],
        PARAMETER[&quot;Scale factor at natural origin&quot;,1,
            SCALEUNIT[&quot;unity&quot;,1],
            ID[&quot;EPSG&quot;,8805]],
        PARAMETER[&quot;False easting&quot;,28001.642,
            LENGTHUNIT[&quot;metre&quot;,1],
            ID[&quot;EPSG&quot;,8806]],
        PARAMETER[&quot;False northing&quot;,38744.572,
            LENGTHUNIT[&quot;metre&quot;,1],
            ID[&quot;EPSG&quot;,8807]]],
    CS[Cartesian,2],
        AXIS[&quot;northing (N)&quot;,north,
            ORDER[1],
            LENGTHUNIT[&quot;metre&quot;,1]],
        AXIS[&quot;easting (E)&quot;,east,
            ORDER[2],
            LENGTHUNIT[&quot;metre&quot;,1]],
    USAGE[
        SCOPE[&quot;Cadastre, engineering survey, topographic mapping.&quot;],
        AREA[&quot;Singapore - onshore and offshore.&quot;],
        BBOX[1.13,103.59,1.47,104.07]],
    ID[&quot;EPSG&quot;,3414]]</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>st_crs</span><span class='op'>(</span><span class='va'>airbnb_july2021_sf</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>Coordinate Reference System:
  User input: EPSG:3414 
  wkt:
PROJCRS[&quot;SVY21 / Singapore TM&quot;,
    BASEGEOGCRS[&quot;SVY21&quot;,
        DATUM[&quot;SVY21&quot;,
            ELLIPSOID[&quot;WGS 84&quot;,6378137,298.257223563,
                LENGTHUNIT[&quot;metre&quot;,1]]],
        PRIMEM[&quot;Greenwich&quot;,0,
            ANGLEUNIT[&quot;degree&quot;,0.0174532925199433]],
        ID[&quot;EPSG&quot;,4757]],
    CONVERSION[&quot;Singapore Transverse Mercator&quot;,
        METHOD[&quot;Transverse Mercator&quot;,
            ID[&quot;EPSG&quot;,9807]],
        PARAMETER[&quot;Latitude of natural origin&quot;,1.36666666666667,
            ANGLEUNIT[&quot;degree&quot;,0.0174532925199433],
            ID[&quot;EPSG&quot;,8801]],
        PARAMETER[&quot;Longitude of natural origin&quot;,103.833333333333,
            ANGLEUNIT[&quot;degree&quot;,0.0174532925199433],
            ID[&quot;EPSG&quot;,8802]],
        PARAMETER[&quot;Scale factor at natural origin&quot;,1,
            SCALEUNIT[&quot;unity&quot;,1],
            ID[&quot;EPSG&quot;,8805]],
        PARAMETER[&quot;False easting&quot;,28001.642,
            LENGTHUNIT[&quot;metre&quot;,1],
            ID[&quot;EPSG&quot;,8806]],
        PARAMETER[&quot;False northing&quot;,38744.572,
            LENGTHUNIT[&quot;metre&quot;,1],
            ID[&quot;EPSG&quot;,8807]]],
    CS[Cartesian,2],
        AXIS[&quot;northing (N)&quot;,north,
            ORDER[1],
            LENGTHUNIT[&quot;metre&quot;,1]],
        AXIS[&quot;easting (E)&quot;,east,
            ORDER[2],
            LENGTHUNIT[&quot;metre&quot;,1]],
    USAGE[
        SCOPE[&quot;Cadastre, engineering survey, topographic mapping.&quot;],
        AREA[&quot;Singapore - onshore and offshore.&quot;],
        BBOX[1.13,103.59,1.47,104.07]],
    ID[&quot;EPSG&quot;,3414]]</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>st_crs</span><span class='op'>(</span><span class='va'>hotels_sf</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>Coordinate Reference System:
  User input: EPSG:3414 
  wkt:
PROJCRS[&quot;SVY21 / Singapore TM&quot;,
    BASEGEOGCRS[&quot;SVY21&quot;,
        DATUM[&quot;SVY21&quot;,
            ELLIPSOID[&quot;WGS 84&quot;,6378137,298.257223563,
                LENGTHUNIT[&quot;metre&quot;,1]]],
        PRIMEM[&quot;Greenwich&quot;,0,
            ANGLEUNIT[&quot;degree&quot;,0.0174532925199433]],
        ID[&quot;EPSG&quot;,4757]],
    CONVERSION[&quot;Singapore Transverse Mercator&quot;,
        METHOD[&quot;Transverse Mercator&quot;,
            ID[&quot;EPSG&quot;,9807]],
        PARAMETER[&quot;Latitude of natural origin&quot;,1.36666666666667,
            ANGLEUNIT[&quot;degree&quot;,0.0174532925199433],
            ID[&quot;EPSG&quot;,8801]],
        PARAMETER[&quot;Longitude of natural origin&quot;,103.833333333333,
            ANGLEUNIT[&quot;degree&quot;,0.0174532925199433],
            ID[&quot;EPSG&quot;,8802]],
        PARAMETER[&quot;Scale factor at natural origin&quot;,1,
            SCALEUNIT[&quot;unity&quot;,1],
            ID[&quot;EPSG&quot;,8805]],
        PARAMETER[&quot;False easting&quot;,28001.642,
            LENGTHUNIT[&quot;metre&quot;,1],
            ID[&quot;EPSG&quot;,8806]],
        PARAMETER[&quot;False northing&quot;,38744.572,
            LENGTHUNIT[&quot;metre&quot;,1],
            ID[&quot;EPSG&quot;,8807]]],
    CS[Cartesian,2],
        AXIS[&quot;northing (N)&quot;,north,
            ORDER[1],
            LENGTHUNIT[&quot;metre&quot;,1]],
        AXIS[&quot;easting (E)&quot;,east,
            ORDER[2],
            LENGTHUNIT[&quot;metre&quot;,1]],
    USAGE[
        SCOPE[&quot;Cadastre, engineering survey, topographic mapping.&quot;],
        AREA[&quot;Singapore - onshore and offshore.&quot;],
        BBOX[1.13,103.59,1.47,104.07]],
    ID[&quot;EPSG&quot;,3414]]</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>st_crs</span><span class='op'>(</span><span class='va'>tourism_sf</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>Coordinate Reference System:
  User input: EPSG:3414 
  wkt:
PROJCRS[&quot;SVY21 / Singapore TM&quot;,
    BASEGEOGCRS[&quot;SVY21&quot;,
        DATUM[&quot;SVY21&quot;,
            ELLIPSOID[&quot;WGS 84&quot;,6378137,298.257223563,
                LENGTHUNIT[&quot;metre&quot;,1]]],
        PRIMEM[&quot;Greenwich&quot;,0,
            ANGLEUNIT[&quot;degree&quot;,0.0174532925199433]],
        ID[&quot;EPSG&quot;,4757]],
    CONVERSION[&quot;Singapore Transverse Mercator&quot;,
        METHOD[&quot;Transverse Mercator&quot;,
            ID[&quot;EPSG&quot;,9807]],
        PARAMETER[&quot;Latitude of natural origin&quot;,1.36666666666667,
            ANGLEUNIT[&quot;degree&quot;,0.0174532925199433],
            ID[&quot;EPSG&quot;,8801]],
        PARAMETER[&quot;Longitude of natural origin&quot;,103.833333333333,
            ANGLEUNIT[&quot;degree&quot;,0.0174532925199433],
            ID[&quot;EPSG&quot;,8802]],
        PARAMETER[&quot;Scale factor at natural origin&quot;,1,
            SCALEUNIT[&quot;unity&quot;,1],
            ID[&quot;EPSG&quot;,8805]],
        PARAMETER[&quot;False easting&quot;,28001.642,
            LENGTHUNIT[&quot;metre&quot;,1],
            ID[&quot;EPSG&quot;,8806]],
        PARAMETER[&quot;False northing&quot;,38744.572,
            LENGTHUNIT[&quot;metre&quot;,1],
            ID[&quot;EPSG&quot;,8807]]],
    CS[Cartesian,2],
        AXIS[&quot;northing (N)&quot;,north,
            ORDER[1],
            LENGTHUNIT[&quot;metre&quot;,1]],
        AXIS[&quot;easting (E)&quot;,east,
            ORDER[2],
            LENGTHUNIT[&quot;metre&quot;,1]],
    USAGE[
        SCOPE[&quot;Cadastre, engineering survey, topographic mapping.&quot;],
        AREA[&quot;Singapore - onshore and offshore.&quot;],
        BBOX[1.13,103.59,1.47,104.07]],
    ID[&quot;EPSG&quot;,3414]]</code></pre>
</div>
<p>All the data has successfully been changed to EPSG 3414.</p>
<h2 id="geospatial-data-wrangling">Geospatial Data Wrangling</h2>
<p>Both geospatial and aspatial data will be converted from simple feature frame to sp’s Spatial* class.</p>
<h3 id="converting-sf-data-frames-to-sps-spatial-class">Converting sf data frames to sp’s Spatial* class</h3>
<p><em>as_Spatial()</em> is used to convert the all the geospatial data from simple feature data frame to sp’s Spatial* class.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>mpsz</span> <span class='op'>&lt;-</span> <span class='fu'>as_Spatial</span><span class='op'>(</span><span class='va'>mpsz_sf</span><span class='op'>)</span>
<span class='va'>sg</span> <span class='op'>&lt;-</span> <span class='fu'>as_Spatial</span><span class='op'>(</span><span class='va'>sg_sf</span><span class='op'>)</span>
<span class='va'>mrtlrt</span> <span class='op'>&lt;-</span><span class='fu'>as_Spatial</span><span class='op'>(</span><span class='va'>mrtlrt_sf</span><span class='op'>)</span>
                    
<span class='va'>airbnb_june2019</span> <span class='op'>&lt;-</span> <span class='fu'>as_Spatial</span><span class='op'>(</span><span class='va'>airbnb_june2019_sf</span><span class='op'>)</span>
<span class='va'>airbnb_july2021</span> <span class='op'>&lt;-</span> <span class='fu'>as_Spatial</span><span class='op'>(</span><span class='va'>airbnb_july2021_sf</span><span class='op'>)</span>
<span class='va'>hotels</span> <span class='op'>&lt;-</span> <span class='fu'>as_Spatial</span><span class='op'>(</span><span class='va'>hotels_sf</span><span class='op'>)</span>
<span class='va'>tourism</span> <span class='op'>&lt;-</span> <span class='fu'>as_Spatial</span><span class='op'>(</span><span class='va'>tourism_sf</span><span class='op'>)</span>                    
</code></pre>
</div>
</div>
<p>Checking all the Spatial* class</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>mpsz</span>
</code></pre>
</div>
<pre><code>class       : SpatialPolygonsDataFrame 
features    : 323 
extent      : 2667.538, 56396.44, 15748.72, 50256.33  (xmin, xmax, ymin, ymax)
crs         : +proj=tmerc +lat_0=1.36666666666667 +lon_0=103.833333333333 +k=1 +x_0=28001.642 +y_0=38744.572 +ellps=WGS84 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs 
variables   : 15
names       : OBJECTID, SUBZONE_NO, SUBZONE_N, SUBZONE_C, CA_IND, PLN_AREA_N, PLN_AREA_C,       REGION_N, REGION_C,          INC_CRC, FMEL_UPD_D,     X_ADDR,     Y_ADDR,    SHAPE_Leng,    SHAPE_Area 
min values  :        1,          1, ADMIRALTY,    AMSZ01,      N, ANG MO KIO,         AM, CENTRAL REGION,       CR, 00F5E30B5C9B7AD8,      16409,  5092.8949,  19579.069, 871.554887798, 39437.9352703 
max values  :      323,         17,    YUNNAN,    YSSZ09,      Y,     YISHUN,         YS,    WEST REGION,       WR, FFCCF172717C2EAF,      16409, 50424.7923, 49552.7904, 68083.9364708,  69748298.792 </code></pre>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>sg</span>
</code></pre>
</div>
<pre><code>class       : SpatialPolygonsDataFrame 
features    : 60 
extent      : 2663.926, 56047.79, 16357.98, 50244.03  (xmin, xmax, ymin, ymax)
crs         : +proj=tmerc +lat_0=1.36666666666667 +lon_0=103.833333333333 +k=1 +x_0=28001.642 +y_0=38744.572 +ellps=WGS84 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs 
variables   : 4
names       : GDO_GID, MSLINK, MAPID,              COSTAL_NAM 
min values  :       1,      1,     0,             ISLAND LINK 
max values  :      60,     67,     0, SINGAPORE - MAIN ISLAND </code></pre>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>mrtlrt</span>
</code></pre>
</div>
<pre><code>class       : SpatialPointsDataFrame 
features    : 171 
extent      : 6138.311, 45254.86, 27555.06, 47854.2  (xmin, xmax, ymin, ymax)
crs         : +proj=tmerc +lat_0=1.36666666666667 +lon_0=103.833333333333 +k=1 +x_0=28001.642 +y_0=38744.572 +ellps=WGS84 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs 
variables   : 3
names       : OBJECTID,              STN_NAME, STN_NO 
min values  :        1, ADMIRALTY MRT STATION,    BP1 
max values  :      199,    YISHUN MRT STATION,    TE8 </code></pre>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>airbnb_june2019</span>
</code></pre>
</div>
<pre><code>class       : SpatialPointsDataFrame 
features    : 8293 
extent      : 7215.566, 44098.31, 25166.35, 49226.35  (xmin, xmax, ymin, ymax)
crs         : +proj=tmerc +lat_0=1.36666666666667 +lon_0=103.833333333333 +k=1 +x_0=28001.642 +y_0=38744.572 +ellps=WGS84 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs 
variables   : 14
names       :       id,                                              name,   host_id,                host_name, neighbourhood_group, neighbourhood,       room_type, price, minimum_nights, number_of_reviews, last_review, reviews_per_month, calculated_host_listings_count, availability_365 
min values  :    49091,                                                 -,     23666, (Email hidden by Airbnb),      Central Region,    Ang Mo Kio, Entire home/apt,     0,              1,                 0,       15656,              0.01,                              1,                0 
max values  : 36053005, ZR2- NEW! Sunny &amp; Modern Apt 4 mins to Orchard Rd, 271165196,                   Zuzana,         West Region,        Yishun,     Shared room, 13999,           1000,               308,       18072,             12.09,                            277,              365 </code></pre>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>airbnb_july2021</span>
</code></pre>
</div>
<pre><code>class       : SpatialPointsDataFrame 
features    : 4252 
extent      : 7406.989, 43337.89, 25330, 48391.55  (xmin, xmax, ymin, ymax)
crs         : +proj=tmerc +lat_0=1.36666666666667 +lon_0=103.833333333333 +k=1 +x_0=28001.642 +y_0=38744.572 +ellps=WGS84 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs 
variables   : 16
names       :       id,                                               name,   host_id,        host_name, neighbourhood_group, neighbourhood,       room_type, price, minimum_nights, number_of_reviews, last_review, reviews_per_month, calculated_host_listings_count, availability_365, number_of_reviews_ltm, ... 
min values  :    50646, !! CozyRoom@City Center,Little India,FarrerParkMRT,     23666, &lt;U+4F73&gt;&lt;U+4F73&gt;,      Central Region,    Ang Mo Kio, Entire home/apt,    13,              1,                 0,       15456,              0.01,                              1,                0,                     0, ... 
max values  : 51122424,                 Zimmer nah der MRT (Downtown Line), 411376818,             Zuzu,         West Region,        Yishun,     Shared room, 13400,           1000,               370,       18826,                77,                            165,              365,                   195, ... </code></pre>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>hotels</span>
</code></pre>
</div>
<pre><code>class       : SpatialPointsDataFrame 
features    : 422 
extent      : 5939.241, 45334.18, 25379.44, 44562.4  (xmin, xmax, ymin, ymax)
crs         : +proj=tmerc +lat_0=1.36666666666667 +lon_0=103.833333333333 +k=1 +x_0=28001.642 +y_0=38744.572 +ellps=WGS84 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs 
variables   : 7
names       :                              NAME, ADDRESSPOSTALCODE,                                 ADDRESSSTREETNAME,         HYPERLINK, TOTALROOMS,     KEEPERNAME, ICON_NAME 
min values  :                      30 BENCOOLEN,             18956,                                 1 Bayfront Avenue, 96ytlim@gmail.com,          4,  Adel Aramouni, hotel.gif 
max values  : YotelAir Singapore Changi Airport,            819666, 99 IRRAWADDY ROAD, # 22-00 ROYAL SQUARE AT NOVENA, zubair@dam.com.sg,       2561, Zhang YuanQing, hotel.gif </code></pre>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>tourism</span>
</code></pre>
</div>
<pre><code>class       : SpatialPointsDataFrame 
features    : 106 
extent      : 11380.23, 43659.54, 22869.34, 47596.73  (xmin, xmax, ymin, ymax)
crs         : +proj=tmerc +lat_0=1.36666666666667 +lon_0=103.833333333333 +k=1 +x_0=28001.642 +y_0=38744.572 +ellps=WGS84 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs 
variables   : 15
names       :                                NAME,                                                                                                                                                  DESCRIPTION,                  ADDRESSSTREETNAME,                            HYPERLINK,                                                                                                                             PHOTOURL,                                                                                          URL_PATH,                                                                                                          IMAGE_ALT_TEXT,                 PHOTOCREDITS,   LASTMODIFIED,                                                                                             META_DESCRIPTION,                                                                                                                                                                           OPENING_HOURS,              Lat,              Lng,        ICON_NAME, ADDRESSPOSTALCODE 
min values  : Adventure Cove Waterpark™ Singapore, A feat of engineering, an architectural statement and a sheer aesthetic triumph, Marina Bay Sands&lt;sup&gt;®&lt;/sup&gt; has upped the ante for buildings in Singapore.,                       1 Beach Road,                   http://acm.org.sg/,                                  /content/dam/desktop/global/see-do-singapore/architecture/hajjah-fatimah-mosque-carousel01-rect.jpg, www.yoursingapore.com/en/see-do-singapore/architecture/historical/capitol-building-singapore.html,               Adults and kids of all ages who are not even science buffs will have fun at the Singapore Science Centre., ©Darren Soh/National Gallery, 1427691447.648, A tranquil patch of imperial China in the west of Singapore is pleasant respite from the bustle of the city.,                                                                                                                                                 50th storey Skybridge, Daily, 9am –10pm, 1.22309649975255, 103.683980000372, tourist_spot.gif,                 0 
max values  :          Victoria Theatre Singapore,                                                    With so many attractions packed into this 15-km stretch of beaches, you’ll never run out of things to do., Seng Poh Road and Tiong Bahru Road, https://www.pub.gov.sg/marinabarrage, www.yoursingapore.com/content/dam/desktop/global/see-do-singapore/recreation-leisure/universal-studios-singapore-carousel01-rect.jpg,      www.yoursingapore.com/en/see-do-singapore/recreation-leisure/viewpoints/singapore-flyer.html, Whether you prefer water sports, rollerblading or cycling, find a myriad of things to do at East Coast Park, Singapore.,  Wildlife Reserves Singapore, 1446544541.364,                                     With the Henderson Waves bridge, form meets function to stunning effect., Visits are by appointment only.Visitors must sign up in advance for heritage tours which fall on:Monday, 2pm – 3pm,Tuesday, 6.30pm – 7.30pm,Thursday, 10am – 11am,Saturday, 11am – 12pm, 1.44672000006097, 103.974030000359, tourist_spot.gif,                 0 </code></pre>
</div>
<p>All the geospatial data have been converted to their respective sp’s Spatial* classes.</p>
<h3 id="converting-the-spatial-class-into-generic-sp-format">Converting the Spatial* class into generic sp format</h3>
<p>It is mandatory for the analytical data to be in <strong><em>ppp</em></strong> object form to use <strong>spatstat</strong>. Since there is no direct way to convert a Spatial* classes into <strong><em>ppp</em></strong> object, <strong><em>Spatial classes</em></strong>* needs to be converted into <strong><em>Spatial</em></strong> object first.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>mpsz_sp</span> <span class='op'>&lt;-</span> <span class='fu'>as</span><span class='op'>(</span><span class='va'>mpsz</span>, <span class='st'>"SpatialPolygons"</span><span class='op'>)</span>
<span class='va'>sg_sp</span> <span class='op'>&lt;-</span> <span class='fu'>as</span><span class='op'>(</span><span class='va'>sg</span>, <span class='st'>"SpatialPolygons"</span><span class='op'>)</span>
<span class='va'>mrtlrt_sp</span> <span class='op'>&lt;-</span> <span class='fu'>as</span><span class='op'>(</span><span class='va'>mrtlrt</span>, <span class='st'>"SpatialPoints"</span><span class='op'>)</span>

<span class='va'>airbnb_june2019_sp</span> <span class='op'>&lt;-</span> <span class='fu'>as</span><span class='op'>(</span><span class='va'>airbnb_june2019</span>, <span class='st'>"SpatialPoints"</span><span class='op'>)</span>
<span class='va'>airbnb_july2021_sp</span> <span class='op'>&lt;-</span> <span class='fu'>as</span><span class='op'>(</span><span class='va'>airbnb_july2021</span>, <span class='st'>"SpatialPoints"</span><span class='op'>)</span>
<span class='va'>hotels_sp</span> <span class='op'>&lt;-</span> <span class='fu'>as</span><span class='op'>(</span><span class='va'>hotels</span>, <span class='st'>"SpatialPoints"</span><span class='op'>)</span>
<span class='va'>tourism_sp</span> <span class='op'>&lt;-</span> <span class='fu'>as</span><span class='op'>(</span><span class='va'>tourism</span>, <span class='st'>"SpatialPoints"</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<h3 id="converting-the-generic-sp-format-into-spatstats-ppp-format">Converting the generic sp format into spatstat’s ppp format</h3>
<p><em>as.ppp()</em> function of <strong>spatspat</strong> is used to convert the spatial data into <strong>spatstat</strong>’s <strong><em>ppp</em></strong> object format.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>mrtlrt_ppp</span> <span class='op'>&lt;-</span> <span class='fu'>as</span><span class='op'>(</span><span class='va'>mrtlrt_sp</span>, <span class='st'>"ppp"</span><span class='op'>)</span>
<span class='va'>airbnb_june2019_ppp</span> <span class='op'>&lt;-</span> <span class='fu'>as</span><span class='op'>(</span><span class='va'>airbnb_june2019_sp</span>, <span class='st'>"ppp"</span><span class='op'>)</span>
<span class='va'>airbnb_july2021_ppp</span> <span class='op'>&lt;-</span> <span class='fu'>as</span><span class='op'>(</span><span class='va'>airbnb_july2021_sp</span>, <span class='st'>"ppp"</span><span class='op'>)</span>
<span class='va'>hotels_ppp</span> <span class='op'>&lt;-</span> <span class='fu'>as</span><span class='op'>(</span><span class='va'>hotels_sp</span>, <span class='st'>"ppp"</span><span class='op'>)</span>
<span class='va'>tourism_ppp</span> <span class='op'>&lt;-</span> <span class='fu'>as</span><span class='op'>(</span><span class='va'>tourism_sp</span>, <span class='st'>"ppp"</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<p>Taking a quick look at the summary statistics of the newly created <strong>ppp</strong> object with <em>summary()</em></p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span><span class='op'>(</span><span class='va'>mrtlrt_ppp</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>Planar point pattern:  171 points
Average intensity 2.153565e-07 points per square unit

Coordinates are given to 3 decimal places
i.e. rounded to the nearest multiple of 0.001 units

Window: rectangle = [6138.31, 45254.86] x [27555.06, 47854.2] units
                    (39120 x 20300 units)
Window area = 794032000 square units</code></pre>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span><span class='op'>(</span><span class='va'>airbnb_june2019_ppp</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>Planar point pattern:  8293 points
Average intensity 9.345289e-06 points per square unit

*Pattern contains duplicated points*

Coordinates are given to 3 decimal places
i.e. rounded to the nearest multiple of 0.001 units

Window: rectangle = [7215.57, 44098.31] x [25166.35, 49226.35] units
                    (36880 x 24060 units)
Window area = 887399000 square units</code></pre>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span><span class='op'>(</span><span class='va'>airbnb_july2021_ppp</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>Planar point pattern:  4252 points
Average intensity 5.131408e-06 points per square unit

*Pattern contains duplicated points*

Coordinates are given to 3 decimal places
i.e. rounded to the nearest multiple of 0.001 units

Window: rectangle = [7406.99, 43337.89] x [25330, 48391.55] units
                    (35930 x 23060 units)
Window area = 828622000 square units</code></pre>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span><span class='op'>(</span><span class='va'>hotels_ppp</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>Planar point pattern:  422 points
Average intensity 5.58414e-07 points per square unit

*Pattern contains duplicated points*

Coordinates are given to 3 decimal places
i.e. rounded to the nearest multiple of 0.001 units

Window: rectangle = [5939.24, 45334.18] x [25379.44, 44562.4] units
                    (39390 x 19180 units)
Window area = 755712000 square units</code></pre>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span><span class='op'>(</span><span class='va'>tourism_ppp</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>Planar point pattern:  106 points
Average intensity 1.328016e-07 points per square unit

*Pattern contains duplicated points*

Coordinates are given to 3 decimal places
i.e. rounded to the nearest multiple of 0.001 units

Window: rectangle = [11380.23, 43659.54] x [22869.34, 47596.73] units
                    (32280 x 24730 units)
Window area = 798183000 square units</code></pre>
</div>
<p>From the summary above, there are 3 ppp objects that contains duplicated points: airbnb_june2019_ppp, airbnb_july2021_ppp, hotels_ppp and tourism_ppp</p>
<h3 id="handling-duplicated-points">Handling Duplicated Points</h3>
<p>Checking for duplication in <strong><em>ppp</em></strong> object and the number of duplicated points</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/any.html'>any</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/duplicated.html'>duplicated</a></span><span class='op'>(</span><span class='va'>mrtlrt_ppp</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] FALSE</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/sum.html'>sum</a></span><span class='op'>(</span><span class='fu'>multiplicity</span><span class='op'>(</span><span class='va'>mrtlrt_ppp</span><span class='op'>)</span> <span class='op'>&gt;</span> <span class='fl'>1</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] 0</code></pre>
</div>
<p>There are no duplicated points in mrtlrt_ppp.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/any.html'>any</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/duplicated.html'>duplicated</a></span><span class='op'>(</span><span class='va'>airbnb_june2019_ppp</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] TRUE</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/sum.html'>sum</a></span><span class='op'>(</span><span class='fu'>multiplicity</span><span class='op'>(</span><span class='va'>airbnb_june2019_ppp</span><span class='op'>)</span> <span class='op'>&gt;</span> <span class='fl'>1</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] 6</code></pre>
</div>
<p>There are 6 duplicated points in <em>airbnb_june2019_ppp</em> as shown above.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/any.html'>any</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/duplicated.html'>duplicated</a></span><span class='op'>(</span><span class='va'>airbnb_july2021_ppp</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] TRUE</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/sum.html'>sum</a></span><span class='op'>(</span><span class='fu'>multiplicity</span><span class='op'>(</span><span class='va'>airbnb_july2021_ppp</span><span class='op'>)</span> <span class='op'>&gt;</span> <span class='fl'>1</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] 224</code></pre>
</div>
<p>There are 224 duplicated points in <em>airbnb_july2021_ppp</em> as shown above.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/any.html'>any</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/duplicated.html'>duplicated</a></span><span class='op'>(</span><span class='va'>hotels_ppp</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] TRUE</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/sum.html'>sum</a></span><span class='op'>(</span><span class='fu'>multiplicity</span><span class='op'>(</span><span class='va'>hotels_ppp</span><span class='op'>)</span> <span class='op'>&gt;</span> <span class='fl'>1</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] 10</code></pre>
</div>
<p>There are 10 duplicated points in <em>hotels_ppp</em> as shown above.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/any.html'>any</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/duplicated.html'>duplicated</a></span><span class='op'>(</span><span class='va'>tourism_ppp</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] TRUE</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/sum.html'>sum</a></span><span class='op'>(</span><span class='fu'>multiplicity</span><span class='op'>(</span><span class='va'>tourism_ppp</span><span class='op'>)</span> <span class='op'>&gt;</span> <span class='fl'>1</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] 7</code></pre>
</div>
<p>There are 7 duplicated points in <em>tourism_ppp</em> as shown above.</p>
<h3 id="jittering">Jittering</h3>
<p>To overcome the problem of duplicates, <em>jittering</em> will be used. Jittering adds a small perturbation to the duplicate points so that they do not occupy the exact same space.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>airbnb_june2019_ppp_jit</span> <span class='op'>&lt;-</span> <span class='fu'>rjitter</span><span class='op'>(</span><span class='va'>airbnb_june2019_ppp</span>, 
                             retry<span class='op'>=</span><span class='cn'>TRUE</span>, 
                             nsim<span class='op'>=</span><span class='fl'>1</span>, 
                             drop<span class='op'>=</span><span class='cn'>TRUE</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>airbnb_july2021_ppp_jit</span> <span class='op'>&lt;-</span> <span class='fu'>rjitter</span><span class='op'>(</span><span class='va'>airbnb_july2021_ppp</span>, 
                             retry<span class='op'>=</span><span class='cn'>TRUE</span>, 
                             nsim<span class='op'>=</span><span class='fl'>1</span>, 
                             drop<span class='op'>=</span><span class='cn'>TRUE</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>hotels_ppp_jit</span> <span class='op'>&lt;-</span> <span class='fu'>rjitter</span><span class='op'>(</span><span class='va'>hotels_ppp</span>, 
                             retry<span class='op'>=</span><span class='cn'>TRUE</span>, 
                             nsim<span class='op'>=</span><span class='fl'>1</span>, 
                             drop<span class='op'>=</span><span class='cn'>TRUE</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>tourism_ppp_jit</span> <span class='op'>&lt;-</span> <span class='fu'>rjitter</span><span class='op'>(</span><span class='va'>tourism_ppp</span>, 
                             retry<span class='op'>=</span><span class='cn'>TRUE</span>, 
                             nsim<span class='op'>=</span><span class='fl'>1</span>, 
                             drop<span class='op'>=</span><span class='cn'>TRUE</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<p>Check for duplicated points again.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/any.html'>any</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/duplicated.html'>duplicated</a></span><span class='op'>(</span><span class='va'>airbnb_june2019_ppp_jit</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] FALSE</code></pre>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/any.html'>any</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/duplicated.html'>duplicated</a></span><span class='op'>(</span><span class='va'>airbnb_july2021_ppp_jit</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] FALSE</code></pre>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/any.html'>any</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/duplicated.html'>duplicated</a></span><span class='op'>(</span><span class='va'>hotels_ppp_jit</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] FALSE</code></pre>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/any.html'>any</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/duplicated.html'>duplicated</a></span><span class='op'>(</span><span class='va'>tourism_ppp_jit</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] FALSE</code></pre>
</div>
<p>There are no duplicated points after applying <em>jittering</em>.</p>
<h3 id="creation-of-owin-object">Creation of <em>owin</em> object</h3>
<p>While analysing spatial point patterns, it is good to confine the analysis within a certain geographical area, which in this case will be Singapore boundary. <strong><em>owin</em></strong> in <strong>spatstat</strong> is specially designed to represent the polygonal region.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>sg_owin</span> <span class='op'>&lt;-</span> <span class='fu'>as</span><span class='op'>(</span><span class='va'>sg_sp</span>, <span class='st'>"owin"</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<p>Displaying the output object with the use of <em>plot()</em> function.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='va'>sg_owin</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="take-home-exercise-2_files/figure-html5/unnamed-chunk-59-1.png" width="624" /></p>
</div>
<p>Checking the summary of owin</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span><span class='op'>(</span><span class='va'>sg_owin</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>Window: polygonal boundary
60 separate polygons (no holes)
            vertices        area relative.area
polygon 1         38 1.56140e+04      2.09e-05
polygon 2        735 4.69093e+06      6.27e-03
polygon 3         49 1.66986e+04      2.23e-05
polygon 4         76 3.12332e+05      4.17e-04
polygon 5       5141 6.36179e+08      8.50e-01
polygon 6         42 5.58317e+04      7.46e-05
polygon 7         67 1.31354e+06      1.75e-03
polygon 8         15 4.46420e+03      5.96e-06
polygon 9         14 5.46674e+03      7.30e-06
polygon 10        37 5.26194e+03      7.03e-06
polygon 11        53 3.44003e+04      4.59e-05
polygon 12        74 5.82234e+04      7.78e-05
polygon 13        69 5.63134e+04      7.52e-05
polygon 14       143 1.45139e+05      1.94e-04
polygon 15       165 3.38736e+05      4.52e-04
polygon 16       130 9.40465e+04      1.26e-04
polygon 17        19 1.80977e+03      2.42e-06
polygon 18        16 2.01046e+03      2.69e-06
polygon 19        93 4.30642e+05      5.75e-04
polygon 20        90 4.15092e+05      5.54e-04
polygon 21       721 1.92795e+06      2.57e-03
polygon 22       330 1.11896e+06      1.49e-03
polygon 23       115 9.28394e+05      1.24e-03
polygon 24        37 1.01705e+04      1.36e-05
polygon 25        25 1.66227e+04      2.22e-05
polygon 26        10 2.14507e+03      2.86e-06
polygon 27       190 2.02489e+05      2.70e-04
polygon 28       175 9.25904e+05      1.24e-03
polygon 29      1993 9.99217e+06      1.33e-02
polygon 30        38 2.42492e+04      3.24e-05
polygon 31        24 6.35239e+03      8.48e-06
polygon 32        53 6.35791e+05      8.49e-04
polygon 33        41 1.60161e+04      2.14e-05
polygon 34        22 2.54368e+03      3.40e-06
polygon 35        30 1.08382e+04      1.45e-05
polygon 36       327 2.16921e+06      2.90e-03
polygon 37       111 6.62927e+05      8.85e-04
polygon 38        90 1.15991e+05      1.55e-04
polygon 39        98 6.26829e+04      8.37e-05
polygon 40       415 3.25384e+06      4.35e-03
polygon 41       222 1.51142e+06      2.02e-03
polygon 42       107 6.33039e+05      8.45e-04
polygon 43         7 2.48299e+03      3.32e-06
polygon 44        17 3.28303e+04      4.38e-05
polygon 45        26 8.34758e+03      1.11e-05
polygon 46       177 4.67446e+05      6.24e-04
polygon 47        16 3.19460e+03      4.27e-06
polygon 48        15 4.87296e+03      6.51e-06
polygon 49        66 1.61841e+04      2.16e-05
polygon 50       149 5.63430e+06      7.53e-03
polygon 51       609 2.62570e+07      3.51e-02
polygon 52         8 7.82256e+03      1.04e-05
polygon 53       976 2.33447e+07      3.12e-02
polygon 54        55 8.25379e+04      1.10e-04
polygon 55       976 2.33447e+07      3.12e-02
polygon 56        61 3.33449e+05      4.45e-04
polygon 57         6 1.68410e+04      2.25e-05
polygon 58         4 9.45963e+03      1.26e-05
polygon 59        46 6.99702e+05      9.35e-04
polygon 60        13 7.00873e+04      9.36e-05
enclosing rectangle: [2663.93, 56047.79] x [16357.98, 50244.03] units
                     (53380 x 33890 units)
Window area = 748741000 square units
Fraction of frame area: 0.414</code></pre>
</div>
<h3 id="combining-point-events-object-and-owin-object">Combining Point Events Object and owin object</h3>
<p>Extracting the relevant events located within Singapore.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>mrtlrt_sg_ppp</span> <span class='op'>=</span> <span class='va'>mrtlrt_ppp</span><span class='op'>[</span><span class='va'>sg_owin</span><span class='op'>]</span>
<span class='va'>airbnb_june2019_sg_ppp</span> <span class='op'>=</span> <span class='va'>airbnb_june2019_ppp_jit</span><span class='op'>[</span><span class='va'>sg_owin</span><span class='op'>]</span>
<span class='va'>airbnb_july2021_sg_ppp</span> <span class='op'>=</span> <span class='va'>airbnb_july2021_ppp_jit</span><span class='op'>[</span><span class='va'>sg_owin</span><span class='op'>]</span>
<span class='va'>hotels_sg_ppp</span> <span class='op'>=</span> <span class='va'>hotels_ppp_jit</span><span class='op'>[</span><span class='va'>sg_owin</span><span class='op'>]</span>
<span class='va'>tourism_sg_ppp</span> <span class='op'>=</span> <span class='va'>tourism_ppp_jit</span><span class='op'>[</span><span class='va'>sg_owin</span><span class='op'>]</span>
</code></pre>
</div>
</div>
<p>Visualisation of <strong><em>ppp</em></strong> objects</p>
<p>Using <em>plot()</em> function to visualise the <strong><em>ppp</em></strong> objects within Singapore’s boundary</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='va'>mrtlrt_sg_ppp</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="take-home-exercise-2_files/figure-html5/unnamed-chunk-62-1.png" width="1152" /></p>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='va'>airbnb_june2019_sg_ppp</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="take-home-exercise-2_files/figure-html5/unnamed-chunk-63-1.png" width="1152" /></p>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='va'>airbnb_july2021_sg_ppp</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="take-home-exercise-2_files/figure-html5/unnamed-chunk-64-1.png" width="1152" /></p>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='va'>hotels_sg_ppp</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="take-home-exercise-2_files/figure-html5/unnamed-chunk-65-1.png" width="1152" /></p>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='va'>tourism_sg_ppp</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="take-home-exercise-2_files/figure-html5/unnamed-chunk-66-1.png" width="1152" /></p>
</div>
<h1 id="section-a-airbnb-distribution-in-2019">Section A: Airbnb Distribution in 2019</h1>
<h2 id="exploratory-spatial-data-analysis">Exploratory Spatial Data Analysis</h2>
<ul>
<li><p>Derive kernel density maps of Airbnb listings, hotels, MRT services, and tourist attractions.</p></li>
<li><p>Using appropriate tmap functions, display the kernel density maps on openstreetmap of Singapore. Describe the spatial patterns revealed by the kernel density maps. Highlight the advantage of kernel density map over point map.</p></li>
</ul>
<h3 id="airbnb-listing-june-2019">Airbnb Listing June 2019</h3>
<h4 id="computing-kernel-density-estimation-using-automatic-bandwidth-selection-method"><strong>Computing kernel density estimation using automatic bandwidth selection method</strong></h4>
<p>Computing kernel density using <em>density()</em> of <strong>spatstat</strong> using <em>bw.diggle()</em>, a automatic bandwidth selection method. The default smoothing kernel is <em>gaussian</em>.</p>
<p>There are other bandwidth selection method such as <em>bw.ppl()</em> but I chosen to use <em>bw.diggle()</em> as it can identify single tight cluster patterns among random noise.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>kde_airbnb_june2019_sg_bw</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/density.html'>density</a></span><span class='op'>(</span><span class='va'>airbnb_june2019_sg_ppp</span>,
                                   sigma<span class='op'>=</span><span class='va'>bw.diggle</span>,
                                   edge<span class='op'>=</span><span class='cn'>TRUE</span>,
                                   kernel<span class='op'>=</span><span class='st'>"gaussian"</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='va'>kde_airbnb_june2019_sg_bw</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="take-home-exercise-2_files/figure-html5/unnamed-chunk-68-1.png" width="624" /></p>
</div>
<p>After looking at the first graph, I realised the output value range is too small to comprehend. This is due to the default unit of measurement of svy21 in meter. Thus, it was computed in “number of points per square meter”.</p>
<h4 id="rescalling-kde-values-to-kmkilometer"><strong>Rescalling KDE values to km(kilometer)</strong></h4>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>airbnb_june2019_sg_ppp_km</span> <span class='op'>&lt;-</span> <span class='fu'>rescale</span><span class='op'>(</span><span class='va'>airbnb_june2019_sg_ppp</span>, <span class='fl'>1000</span>, <span class='st'>'km'</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<p>Now, the code can be re-run to get a better comprehension.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>kde_airbnb_june2019_sg_bw</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/density.html'>density</a></span><span class='op'>(</span><span class='va'>airbnb_june2019_sg_ppp_km</span>,
                                   sigma<span class='op'>=</span><span class='va'>bw.diggle</span>,
                                   edge<span class='op'>=</span><span class='cn'>TRUE</span>,
                                   kernel<span class='op'>=</span><span class='st'>"gaussian"</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<h4 id="plotting-of-kernel-density-estimation-maps"><strong>Plotting of Kernel Density Estimation Maps</strong></h4>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/graphics/par.html'>par</a></span><span class='op'>(</span>mfrow<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span>,<span class='fl'>2</span><span class='op'>)</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='va'>kde_airbnb_june2019_sg_bw</span>,  main <span class='op'>=</span> <span class='st'>"KDE Map"</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='va'>airbnb_june2019_sg_ppp_km</span>,  main <span class='op'>=</span> <span class='st'>"Point Map"</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="take-home-exercise-2_files/figure-html5/unnamed-chunk-71-1.png" width="1152" /></p>
</div>
<p>Analysis: It can be seen that the Airbnb listings are mostly situated in the south-east region close to the central area. This can seen by the higher density in the map shown by the pink spots in the kernel density estimation map</p>
<p>Advantage of using kernel density map: Using the KDE map, the different shades of colour helps to visualise the density better as compared to point map. Point map only can only show the location of one place at the time, if too clustered together, it will just appear as a black patch and we would not be able to tell anything from it.</p>
<h4 id="converting-kde-output-into-grid-object.">Converting KDE output into grid object.</h4>
<p>Converting it so that it is suitable for mapping purposes.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>gridded_kde_airbnb_june2019_sg_bw</span> <span class='op'>&lt;-</span> <span class='fu'>as.SpatialGridDataFrame.im</span><span class='op'>(</span><span class='va'>kde_airbnb_june2019_sg_bw</span><span class='op'>)</span>
<span class='fu'>spplot</span><span class='op'>(</span><span class='va'>gridded_kde_airbnb_june2019_sg_bw</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="take-home-exercise-2_files/figure-html5/unnamed-chunk-72-1.png" width="624" /></p>
</div>
<p>The density map using grid shows a better visualisation of the listings as it is more visible to see those that are less clustered together as shown with the lighter shade of blue.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>kde_airbnb_june2019_sg_bw_m</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/density.html'>density</a></span><span class='op'>(</span><span class='va'>airbnb_june2019_sg_ppp</span>,
                                   sigma<span class='op'>=</span><span class='va'>bw.diggle</span>,
                                   edge<span class='op'>=</span><span class='cn'>TRUE</span>,
                                   kernel<span class='op'>=</span><span class='st'>"gaussian"</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>gridded_kde_airbnb_june2019_sg_bw_m</span> <span class='op'>&lt;-</span> <span class='fu'>as.SpatialGridDataFrame.im</span><span class='op'>(</span><span class='va'>kde_airbnb_june2019_sg_bw_m</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<h4 id="converting-gridded-output-into-raster"><strong>CONVERTING GRIDDED OUTPUT INTO RASTER</strong></h4>
<p>Converting the gridded kernal density objects into RasterLayer object by using raster() of <strong>raster</strong> package.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>kde_airbnb_june2019_bw_raster</span> <span class='op'>&lt;-</span> <span class='fu'>raster</span><span class='op'>(</span><span class='va'>gridded_kde_airbnb_june2019_sg_bw_m</span><span class='op'>)</span>
<span class='va'>kde_airbnb_june2019_bw_raster</span>
</code></pre>
</div>
<pre><code>class      : RasterLayer 
dimensions : 128, 128, 16384  (nrow, ncol, ncell)
resolution : 417.0614, 264.7348  (x, y)
extent     : 2663.926, 56047.79, 16357.98, 50244.03  (xmin, xmax, ymin, ymax)
crs        : NA 
source     : memory
names      : v 
values     : -2.006052e-19, 0.001802362  (min, max)</code></pre>
</div>
<p>The crs property is NA as shown above.</p>
<h4 id="assigning-projection-systems-display-the-kernel-density-maps-on-openstreetmap-of-singapore"><strong>ASSIGNING PROJECTION SYSTEMS</strong> display the kernel density maps on openstreetmap of Singapore</h4>
<p>Assigning the CRS information on kde_airbnb_june2019_bw_raster Raster Layer</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>projection</span><span class='op'>(</span><span class='va'>kde_airbnb_june2019_bw_raster</span><span class='op'>)</span> <span class='op'>&lt;-</span> <span class='fu'>CRS</span><span class='op'>(</span><span class='st'>"+init=EPSG:3414"</span><span class='op'>)</span>
<span class='va'>kde_airbnb_june2019_bw_raster</span>
</code></pre>
</div>
<pre><code>class      : RasterLayer 
dimensions : 128, 128, 16384  (nrow, ncol, ncell)
resolution : 417.0614, 264.7348  (x, y)
extent     : 2663.926, 56047.79, 16357.98, 50244.03  (xmin, xmax, ymin, ymax)
crs        : +proj=tmerc +lat_0=1.36666666666667 +lon_0=103.833333333333 +k=1 +x_0=28001.642 +y_0=38744.572 +ellps=WGS84 +units=m +no_defs 
source     : memory
names      : v 
values     : -2.006052e-19, 0.001802362  (min, max)</code></pre>
</div>
<p>The CRS property is now available.</p>
<p>Plotting the raster layer on openstreetmap using interactive mode</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>tmap_mode</span><span class='op'>(</span><span class='st'>"view"</span><span class='op'>)</span>
<span class='fu'>tm_basemap</span><span class='op'>(</span><span class='st'>"OpenStreetMap"</span><span class='op'>)</span> <span class='op'>+</span>
<span class='fu'>tm_shape</span><span class='op'>(</span><span class='va'>kde_airbnb_june2019_bw_raster</span><span class='op'>)</span> <span class='op'>+</span> 
  <span class='fu'>tm_raster</span><span class='op'>(</span><span class='st'>"v"</span>, palette <span class='op'>=</span> <span class='st'>"Purples"</span>, alpha <span class='op'>=</span> <span class='fl'>0.7</span><span class='op'>)</span>
</code></pre>
</div>
<div id="htmlwidget-ef0114e22f4b07eea941" style="width:624px;height:384px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-ef0114e22f4b07eea941">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"createMapPane","args":["tmap401",401]},{"method":"addProviderTiles","args":["OpenStreetMap",null,"OpenStreetMap",{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"pane":"tilePane"}]},{"method":"addRasterImage","args":["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKEAAABnCAYAAABo4CIfAAAE4klEQVR4nO2dO3IjIRCGkcuhI9nxZq5yvMmeaG+xx3E59VGcuspXkBw590bjGiEeDXQ3DfxfJJVGDAP/dPNo4OCAc865z9PXd+y348PdQTMvq4HCdXEB7sX3efr6hhhlWLpQU9YvBwTJx5IF2SI+H4ixnZveGdCGU4CAh6XeYikBwhq2YbbwuDoCmpYPYqzDVKHlBFNayb1cL8RYhpk2IbdgIMBxMCFCqmC4r5Oi9/1Ho+tby1FZ/oBya3ocwBqW0a2wrAhGAoiwjC7ueGYBOjf/8+UofX61N3aliglZQsw9xxEvlJXE59y1ACnBEaVsac4iatGHWE2AG8eHuwPl2WtEFEp3dDGaGKKZDe2hpM/T17f0Cy+ZPkSoRMxa+QLavnNWOld6UkKEO+5Iboxzc+spAefS52oWSLZDRUQI8fGSq/jW8u7dpoQIB4EqlJqyn06EECAvvktttYq9BReCNUMQoAzUBVf730YayrntnQGQZy+uEiFZFZ0PLOGAjCIuKhgnHJDZXnZYwoHhXO7Q07rCEg4M58xKTwOCjskCWPdQbCbY+oOuQCyOkSMdSYZa1wt00BYh2oTgCm3DAhGCIJpCbDK7cMXzoumSm9c5gHWQEibcMSBjKrIaVnBtuC0iRAia4BDkEFutAVtwW0K0CUF3yCKEFQRSwBKCIiSGaSBC0B2IEHQHIgRkus6YoFMCJIElBCQkAxoQ3g+SaETTkHdjAuuhFc4FS8jA+8f55/PT433HnPCR2k7Ev6YVWEJAxhcmlwijHRONLWhn4/3jfGEVrWJtGxGyO6bu+gni+ALVcN0tgov9t2sUzfHh7qD9Fll7a1NsogpZw39/X93T4/3PNdICzNXV9nvsuu5rTChnb3BsUZva/DG31x4Y6wVNUd07bnHP/obgWzq+KHEK0jUzloeJIZrUMVzWraDG8MyMwttTfTQB9drUf3P3HVmcHMwuvo2qDXSoG+/0KkQJgb5/nC8snf+9lVUEF6J6F6eUEGvPbOOqCAtWUnPGYXSu2oRSri7lakMdk9B1MzHrc9VQHcoVEwzFVfvXcFeIZgWHxgQhsDIuLCG3BcylR3HfFDcdErmERffbgS/Pb+73n1/J/GCoKQ/pgOgYNQf/hdpKOcHUnGJkqQcNAaYpEmHJaZCp/8bcc8uJlFYEFwIiTHPjXP/zcDnun5psl5rzfnl+405ySYqGaLg25i6h9IDBjZZzgmvZ5xXWj46JabscNRWaiyDZPnMLEuIrR221HSW0SCsvtffNhT+BOoqCWmtvsv9vqtcqaaFSUMc2/WYBQs14iPaOOc9NC6VHEWIPQmVgNa+zcOscLXqlFUqD3Vql+nmGxZMhOHesnQlL4gs1F1o8BMjTtXdstUJT7daVgiy0uCrslgJtCQOzDMKxZLkaokG7B2jDOk44q1XQWn+7KsNvDbe33JK7RkjHQK4MaeC4FOnGe24gWeKeQI7hLWFpTxbYQ0WEEuH7+2kzKxYPoq9jml25YvupaD6HlZdhNETahKuyX5iP8qMzRDyhZdAhaufW0oKgUYHo2iheI7wycLMymCtQvATrYaqCWztJubXMocBaiLw/ZgartXd/AHYwI8KZtpEDZUzlilLh+HC7AIA1GG2qEQAA8sCyrYGZ3rEPxAe6AxECAAAAAAAAAABgHf4DuIVx8P1x87cAAAAASUVORK5CYII=",[[1.47066364891549,103.605646858975],[1.16218335265381,104.087962389458]],0.698039215686274,null,"tmap401","kde_airbnb_june2019_bw_raster"]},{"method":"addLegend","args":[{"colors":["#EEECF4","#C6C7E1","#9490C3","#6A51A3"],"labels":["0.0000 to 0.0005","0.0005 to 0.0010","0.0010 to 0.0015","0.0015 to 0.0020"],"na_color":null,"na_label":"NA","opacity":0.698039215686274,"position":"topright","type":"unknown","title":"v","extra":null,"layerId":"legend401","className":"info legend kde_airbnb_june2019_bw_raster","group":"kde_airbnb_june2019_bw_raster"}]},{"method":"addLayersControl","args":[[],"kde_airbnb_june2019_bw_raster",{"collapsed":true,"autoZIndex":true,"position":"topleft"}]}],"limits":{"lat":[1.16218335265381,1.47066364891549],"lng":[103.605646858975,104.087962389458]},"fitBounds":[1.1641988317039,103.605646858975,1.4706519681352,104.085357795856,[]]},"evals":[],"jsHooks":[]}</script>
</div>
<p>Analysis: From the interactive map above, Airbnb can be seen in areas around Geylang which has a highest density of 0.00015 to 0.00020 units per square meter with the darkest shade of purple. Following that will be areas around Chinatown and Clarke Quay with a higher density of 0.00010 to 0.00015 units per square meter shown with the darker shade of purple.</p>
<h3 id="hotels">Hotels</h3>
<h4 id="rescalling-kde-values-to-kmkilometer-1"><strong>Rescalling KDE values to km(kilometer)</strong></h4>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>hotels_sg_ppp_km</span> <span class='op'>&lt;-</span> <span class='fu'>rescale</span><span class='op'>(</span><span class='va'>hotels_sg_ppp</span>, <span class='fl'>1000</span>, <span class='st'>'km'</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>kde_hotels_sg_bw</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/density.html'>density</a></span><span class='op'>(</span><span class='va'>hotels_sg_ppp_km</span>,
                                   sigma<span class='op'>=</span><span class='va'>bw.diggle</span>,
                                   edge<span class='op'>=</span><span class='cn'>TRUE</span>,
                                   kernel<span class='op'>=</span><span class='st'>"gaussian"</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<h4 id="plotting-of-kernel-density-estimation-maps-1"><strong>Plotting of Kernel Density Estimation Maps</strong></h4>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/graphics/par.html'>par</a></span><span class='op'>(</span>mfrow<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span>,<span class='fl'>2</span><span class='op'>)</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='va'>kde_hotels_sg_bw</span>,  main <span class='op'>=</span> <span class='st'>"KDE Map"</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='va'>hotels_sg_ppp_km</span>,  main <span class='op'>=</span> <span class='st'>"Point Map"</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="take-home-exercise-2_files/figure-html5/unnamed-chunk-80-1.png" width="1152" /></p>
</div>
<h4 id="converting-kde-output-into-grid-object.-1">Converting KDE output into grid object.</h4>
<p>Converting it so that it is suitable for mapping purposes.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>gridded_kde_hotels_sg_bw</span> <span class='op'>&lt;-</span> <span class='fu'>as.SpatialGridDataFrame.im</span><span class='op'>(</span><span class='va'>kde_hotels_sg_bw</span><span class='op'>)</span>
<span class='fu'>spplot</span><span class='op'>(</span><span class='va'>gridded_kde_hotels_sg_bw</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="take-home-exercise-2_files/figure-html5/unnamed-chunk-81-1.png" width="624" /></p>
</div>
<p>The density map using grid shows a better visualisation of the listings as it is more visible to see those that are less clustered together as shown with the lighter shade of blue.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>kde_hotels_sg_bw_m</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/density.html'>density</a></span><span class='op'>(</span><span class='va'>hotels_sg_ppp</span>,
                                   sigma<span class='op'>=</span><span class='va'>bw.diggle</span>,
                                   edge<span class='op'>=</span><span class='cn'>TRUE</span>,
                                   kernel<span class='op'>=</span><span class='st'>"gaussian"</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>gridded_kde_hotels_sg_bw_m</span> <span class='op'>&lt;-</span> <span class='fu'>as.SpatialGridDataFrame.im</span><span class='op'>(</span><span class='va'>kde_hotels_sg_bw_m</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<h4 id="converting-gridded-output-into-raster-1"><strong>CONVERTING GRIDDED OUTPUT INTO RASTER</strong></h4>
<p>Converting the gridded kernal density objects into RasterLayer object by using raster() of <strong>raster</strong> package.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>kde_hotels_bw_raster</span> <span class='op'>&lt;-</span> <span class='fu'>raster</span><span class='op'>(</span><span class='va'>gridded_kde_hotels_sg_bw_m</span><span class='op'>)</span>
<span class='va'>kde_hotels_bw_raster</span>
</code></pre>
</div>
<pre><code>class      : RasterLayer 
dimensions : 128, 128, 16384  (nrow, ncol, ncell)
resolution : 417.0614, 264.7348  (x, y)
extent     : 2663.926, 56047.79, 16357.98, 50244.03  (xmin, xmax, ymin, ymax)
crs        : NA 
source     : memory
names      : v 
values     : -1.721987e-20, 0.0002151328  (min, max)</code></pre>
</div>
<p>The crs property is NA as shown above.</p>
<h4 id="assigning-projection-systems-display-the-kernel-density-maps-on-openstreetmap-of-singapore-1"><strong>ASSIGNING PROJECTION SYSTEMS</strong> display the kernel density maps on openstreetmap of Singapore</h4>
<p>Assigning the CRS information on kde_airbnb_june2019_bw_raster Raster Layer</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>projection</span><span class='op'>(</span><span class='va'>kde_hotels_bw_raster</span><span class='op'>)</span> <span class='op'>&lt;-</span> <span class='fu'>CRS</span><span class='op'>(</span><span class='st'>"+init=EPSG:3414"</span><span class='op'>)</span>
<span class='va'>kde_hotels_bw_raster</span>
</code></pre>
</div>
<pre><code>class      : RasterLayer 
dimensions : 128, 128, 16384  (nrow, ncol, ncell)
resolution : 417.0614, 264.7348  (x, y)
extent     : 2663.926, 56047.79, 16357.98, 50244.03  (xmin, xmax, ymin, ymax)
crs        : +proj=tmerc +lat_0=1.36666666666667 +lon_0=103.833333333333 +k=1 +x_0=28001.642 +y_0=38744.572 +ellps=WGS84 +units=m +no_defs 
source     : memory
names      : v 
values     : -1.721987e-20, 0.0002151328  (min, max)</code></pre>
</div>
<p>The CRS property is now available.</p>
<p>Plotting the raster layer on openstreetmap using interactive mode</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>tmap_mode</span><span class='op'>(</span><span class='st'>"view"</span><span class='op'>)</span>
<span class='fu'>tm_basemap</span><span class='op'>(</span><span class='st'>"OpenStreetMap"</span><span class='op'>)</span> <span class='op'>+</span>
<span class='fu'>tm_shape</span><span class='op'>(</span><span class='va'>kde_hotels_bw_raster</span><span class='op'>)</span> <span class='op'>+</span> 
  <span class='fu'>tm_raster</span><span class='op'>(</span><span class='st'>"v"</span>, palette <span class='op'>=</span> <span class='st'>"Purples"</span>, alpha <span class='op'>=</span> <span class='fl'>0.7</span><span class='op'>)</span>
</code></pre>
</div>
<div id="htmlwidget-faebf81acf1dad75c044" style="width:624px;height:384px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-faebf81acf1dad75c044">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"createMapPane","args":["tmap401",401]},{"method":"addProviderTiles","args":["OpenStreetMap",null,"OpenStreetMap",{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"pane":"tilePane"}]},{"method":"addRasterImage","args":["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKEAAABnCAYAAABo4CIfAAAE2UlEQVR4nO2dPW4WMRCGHZQqRaJ0KEpNgyg5Q0TJLSg5COIWnIQjIG4QRXRRUqQN1UYrf157bM+f7ffpIN96vfa7M/6ZHZ8FEEII4enx5fXob1fXF2eadVkNNG44FuBefE+PL68QowxLN2rO+pWAIPlYsiF7xBcDMfbzzroC2nAKEPCw1FssJUBYwz7cNh7XREDT8kGMbbhqtJJgajvZyvVCjHW4GRNyCwYCHAcXIqQKhvt3UljffzRM31qOzooXlHvL4wDWsA6zxvIiGAkgwjpM3PHMAgxh/ucrUfv8am/sSh2TsoTYez5GvFFWEl8IpwKkBEfUspU5i6hFH2I1AW5cXV+cUZ69RUSpckcXo4slmtnQXkp6enx5lX7hJcuHCJU4slaxgLZ/c3Y6V3lSQoQ7NqS0xrm59ZyAS+VzDQskx6EiIoT4eCl1fG97W48pIcJBoAqlpe2nEyEEyEvsUnutorXgUrBWCAKUgfrB1f5vIy3lnFtXAJTZi6tGSF5FFwNLOCCjiIsK1gkHZLaXHZZwYDg/d7C0rrCEA8O5s2JpQDAxWQDvHorNBHt/0BU4imPkKEeSob7rBTpoixBjQnCCtmGBCEESTSF2mV244nnRdMnd3zmAdZASJtwxIOMqshpWcG24LSJECLrgEOQQqdaAL7gtIcaEwByyCGEFgRSwhKAKiWUaiBCYAxECcyBCQMZ0xwSTEiAJLCEgIRnQgPB+kEUjmoacjQmsh1Y4FywhSJJLJxL/pheIECTJ5bLh9o6HExONFLTABm9pRMiWkJr1c3XuH57D7c2ldTXe6BHc0bVq8YSx4KyO7xpR/Ckhfv/6K3z59jmEEMLd3QfxOvSmCDH/xoRy9gZHitpc8sdSrj3gz6220jwx6bFQcULwrZxYlKOcgnT/8BxCCOHvn3/h46f3ou54hPaoxcXsOHcM1whWcBPd7c3lmyA5mVF4e5qPJqD+Nndt6b6jiHMTHrcFnF18G00JdKiJd6wa0ZNAqawiuBTNWZxyQmw9s42rIzyIUHPHYXROxoRSro6y5OPJmkoz63O10BzKdSQYiquOf8PdIZod/PPHb9P7zwDpbN4jWg92iV1VyfrW3kdrfZGyOzLSUpMVIkGtuX1nDYF4GBNuQIBlqixhzWmQuWt7LFfriZeWQIR5zkPgPfxZ87o9Ry7das8b0KlaouFKzF1D7QGDGz3nBLeyryusHx0X23YlWjo0d42kdYT46lH72u5o+Wb/d626tN53e4bSs4A6qoJaW2+yvza3HGMZsxj/X2ryFA8LEGrGw+HsmPPctFR5FCFakGoDr3WdheTsWKJxKQN2b50a1xkWT4bk3rF2JTyJLzVc6PEQoIzp7Nhrh+bGrSsFWWhx0tg9DdoTBuYZhGPJcrJEg3EP0IZ1nXBWq6D1/e2qDJ8abm+5JbNGSMdArgxp4bgW6cF7aSFZ4p5AjuEtYe1MFvhDRYQS4fv7bTMvFg+ib2OarFwpIW5WUus5vLwMoyEyJlyV/Yf5aD86Q8QTegYTon7OvaXUGBGIro/qb4RXBm5WBncNipdgPVx1cO8kKZXfMFcOLJsP3CxWc49LMc4dBzciRBq5dZnKFeXC8eF2AQBrMNpWIwAAlIFlWwM3s+MYiA+YAxECAAAAAAAAAABgHf4DiuNtUPIMqEUAAAAASUVORK5CYII=",[[1.47066364891549,103.605646858975],[1.16218335265381,104.087962389458]],0.698039215686274,null,"tmap401","kde_hotels_bw_raster"]},{"method":"addLegend","args":[{"colors":["#F1EFF6","#D5D5E8","#AAA8D0","#7F7BB9","#61409B"],"labels":["0.00000 to 0.00005","0.00005 to 0.00010","0.00010 to 0.00015","0.00015 to 0.00020","0.00020 to 0.00025"],"na_color":null,"na_label":"NA","opacity":0.698039215686274,"position":"topright","type":"unknown","title":"v","extra":null,"layerId":"legend401","className":"info legend kde_hotels_bw_raster","group":"kde_hotels_bw_raster"}]},{"method":"addLayersControl","args":[[],"kde_hotels_bw_raster",{"collapsed":true,"autoZIndex":true,"position":"topleft"}]}],"limits":{"lat":[1.16218335265381,1.47066364891549],"lng":[103.605646858975,104.087962389458]},"fitBounds":[1.1641988317039,103.605646858975,1.4706519681352,104.085357795856,[]]},"evals":[],"jsHooks":[]}</script>
</div>
<p>Analysis: From the interactive map above, hotels can be seen that areas around Geylang and Clarke Quay has a highest density of 0.00015 to 0.00020 units per square meter. Following that will be areas around Lavender and Rocher with a higher density of hotel ranging from 0.00010 to 0.00015 units per square meter.</p>
<h3 id="mrt-and-lrt">MRT and LRT</h3>
<h4 id="rescalling-kde-values-to-kmkilometer-2"><strong>Rescalling KDE values to km(kilometer)</strong></h4>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>mrtlrt_sg_ppp_km</span> <span class='op'>&lt;-</span> <span class='fu'>rescale</span><span class='op'>(</span><span class='va'>mrtlrt_sg_ppp</span>, <span class='fl'>1000</span>, <span class='st'>'km'</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>kde_mrtlrt_sg_bw</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/density.html'>density</a></span><span class='op'>(</span><span class='va'>mrtlrt_sg_ppp_km</span>,
                                   sigma<span class='op'>=</span><span class='va'>bw.diggle</span>,
                                   edge<span class='op'>=</span><span class='cn'>TRUE</span>,
                                   kernel<span class='op'>=</span><span class='st'>"gaussian"</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<h4 id="plotting-of-kernel-density-estimation-maps-2"><strong>Plotting of Kernel Density Estimation Maps</strong></h4>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/graphics/par.html'>par</a></span><span class='op'>(</span>mfrow<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span>,<span class='fl'>2</span><span class='op'>)</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='va'>kde_mrtlrt_sg_bw</span>,  main <span class='op'>=</span> <span class='st'>"KDE Map"</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='va'>mrtlrt_sg_ppp_km</span>,  main <span class='op'>=</span> <span class='st'>"Point Map"</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="take-home-exercise-2_files/figure-html5/unnamed-chunk-89-1.png" width="1152" /></p>
</div>
<h4 id="converting-kde-output-into-grid-object.-2">Converting KDE output into grid object.</h4>
<p>Converting it so that it is suitable for mapping purposes.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>gridded_kde_mrtlrt_sg_bw</span> <span class='op'>&lt;-</span> <span class='fu'>as.SpatialGridDataFrame.im</span><span class='op'>(</span><span class='va'>kde_mrtlrt_sg_bw</span><span class='op'>)</span>
<span class='fu'>spplot</span><span class='op'>(</span><span class='va'>gridded_kde_mrtlrt_sg_bw</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="take-home-exercise-2_files/figure-html5/unnamed-chunk-90-1.png" width="624" /></p>
</div>
<p>The density map using grid shows a better visualisation of the listings as it is more visible to see those that are less clustered together as shown with the lighter shade of blue.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>kde_mrtlrt_sg_bw_m</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/density.html'>density</a></span><span class='op'>(</span><span class='va'>mrtlrt_sg_ppp</span>,
                                   sigma<span class='op'>=</span><span class='va'>bw.diggle</span>,
                                   edge<span class='op'>=</span><span class='cn'>TRUE</span>,
                                   kernel<span class='op'>=</span><span class='st'>"gaussian"</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>gridded_kde_mrtlrt_sg_bw_m</span> <span class='op'>&lt;-</span> <span class='fu'>as.SpatialGridDataFrame.im</span><span class='op'>(</span><span class='va'>kde_mrtlrt_sg_bw_m</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<h4 id="converting-gridded-output-into-raster-2"><strong>CONVERTING GRIDDED OUTPUT INTO RASTER</strong></h4>
<p>Converting the gridded kernal density objects into RasterLayer object by using raster() of <strong>raster</strong> package.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>kde_mrtlrt_bw_raster</span> <span class='op'>&lt;-</span> <span class='fu'>raster</span><span class='op'>(</span><span class='va'>gridded_kde_mrtlrt_sg_bw_m</span><span class='op'>)</span>
<span class='va'>kde_mrtlrt_bw_raster</span>
</code></pre>
</div>
<pre><code>class      : RasterLayer 
dimensions : 128, 128, 16384  (nrow, ncol, ncell)
resolution : 417.0614, 264.7348  (x, y)
extent     : 2663.926, 56047.79, 16357.98, 50244.03  (xmin, xmax, ymin, ymax)
crs        : NA 
source     : memory
names      : v 
values     : -1.187723e-21, 2.691815e-06  (min, max)</code></pre>
</div>
<p>The crs property is NA as shown above.</p>
<h4 id="assigning-projection-systems-display-the-kernel-density-maps-on-openstreetmap-of-singapore-2"><strong>ASSIGNING PROJECTION SYSTEMS</strong> display the kernel density maps on openstreetmap of Singapore</h4>
<p>Assigning the CRS information on kde_airbnb_june2019_bw_raster Raster Layer</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>projection</span><span class='op'>(</span><span class='va'>kde_mrtlrt_bw_raster</span><span class='op'>)</span> <span class='op'>&lt;-</span> <span class='fu'>CRS</span><span class='op'>(</span><span class='st'>"+init=EPSG:3414"</span><span class='op'>)</span>
<span class='va'>kde_mrtlrt_bw_raster</span>
</code></pre>
</div>
<pre><code>class      : RasterLayer 
dimensions : 128, 128, 16384  (nrow, ncol, ncell)
resolution : 417.0614, 264.7348  (x, y)
extent     : 2663.926, 56047.79, 16357.98, 50244.03  (xmin, xmax, ymin, ymax)
crs        : +proj=tmerc +lat_0=1.36666666666667 +lon_0=103.833333333333 +k=1 +x_0=28001.642 +y_0=38744.572 +ellps=WGS84 +units=m +no_defs 
source     : memory
names      : v 
values     : -1.187723e-21, 2.691815e-06  (min, max)</code></pre>
</div>
<p>The CRS property is now available.</p>
<p>Plotting the raster layer on openstreetmap using interactive mode</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>tmap_mode</span><span class='op'>(</span><span class='st'>"view"</span><span class='op'>)</span>
<span class='fu'>tm_basemap</span><span class='op'>(</span><span class='st'>"OpenStreetMap"</span><span class='op'>)</span> <span class='op'>+</span>
<span class='fu'>tm_shape</span><span class='op'>(</span><span class='va'>kde_mrtlrt_bw_raster</span><span class='op'>)</span> <span class='op'>+</span> 
  <span class='fu'>tm_raster</span><span class='op'>(</span><span class='st'>"v"</span>, palette <span class='op'>=</span> <span class='st'>"Purples"</span>, alpha <span class='op'>=</span> <span class='fl'>0.7</span><span class='op'>)</span>  
</code></pre>
</div>
<div id="htmlwidget-d06c48e741228e9139a4" style="width:624px;height:384px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-d06c48e741228e9139a4">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"createMapPane","args":["tmap401",401]},{"method":"addProviderTiles","args":["OpenStreetMap",null,"OpenStreetMap",{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"pane":"tilePane"}]},{"method":"addRasterImage","args":["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKEAAABnCAYAAABo4CIfAAAHIklEQVR4nO2dv24jNxDGR4GLK3TVxXaRFAYuhgO/QKr0epKrUqS457omRfQKeYHEhi0gRVJY8VVW4U4pAuYo7vD/DDncnR9wwMnaXXHJbz8OudzZFSgAAHB4eT36vlu/fbNqWZaloZULfgHa4ju8vB5VjDwsulJD7hdDBUnHIiuyRnwuKsZ6vupdgNZQClChYVFXMZcA1Q3rEFt5VAOBls6nYixDVKXFBJPbyL26XhVjHmJiQmrBqADHQYQIUwVDvR0XvX9/NLpetRSN5U4o1x6PAnXDPLpVlhTBcKAizKNLdzxnAQLM//xi5J5/syt2SQ2DOaHee/bDXilLEh/AVIApiyNyMceci6hZT2JpAjSs375ZpZx7iYiw444uRhFTNHOj9VTS4eX1yH3Bcx7/jOvAyimYOz7tD7Dd3h8BADabmxUAwMcPn45Xt+cAAPDTzz+SOBxV980V16oIG4E5yfv3X//foB8/fDr+9dvfk/12u+ejvV1oXtT97AqfIz6lgEWES40Fc9ntno+//vIHAAD8+fs/k++NS/ow4vHV9yjrJtUJO/G0P8DDw+fJ3203/O77CwCId4MS7xrlQC7CEStBKo93e9hsbla73fORKq7r3fVikIpQBejnaX84+Yy5IMZ2e38SE4Zc0f5upKkc7Y4bYAToCu/xbp+0vz04yRGSVNG5qAgbkSLAb3/4xru/7Ww+cdl/H0WAAAOL0LjL5cW6c0nSwYSHjYpjzO0+9JAitOMrN9YC+M91rq/fnfxNgljNaDfUDZuJarP99fU7tOwlQpSaZYL0h1sNTGzhxQJ8I8aeIsRiQiNE44Su+ADAK0CXVAFRP8NDxXAi9AX5AFOHMU4C0N8JsQsHc0S7zABp5Y6JJ7VdeomQbAFDz+mZx7t98kiTCiwMCGGLyYjMOJ75v/3Z3SdEaAFDTru0WAiBUR0Tti705cXaKwCsa6PGjUdzHNZs+7Q/TGLWXPfDGHWedsiBCcCXRrO7ZU7xYZSKxb6QKMRHTevR95DrCd3GwroyN7aShnsOUgRoaOmqVU4owf5tR3SFKB1pwrNp6YTVzzlIIDRIoGxo+3ckC4gLLmEO2R27LFEQPeAyniIRSnJBpS0cbT/s6FjpR8piihyGSLVWQu4cXuoxXZYYClDHhrOICTFaiSP3zglXGcy/EUlW9EguyEnqSLyFa7aaFXBRJ1QAIO7AXK7IMU2TLMJRrb4XlxfriRtRdZlzawt1wg5Qi2j0wZGKsBMUQrTdtoUQue6YJM0T7nbPOigBegfzHS8mqNGdz4VkWfjo5Mwp5o56a4QrSWyaBoQRI5LUxQn2wtSU445Oi9U00Zhw7i6IkSKglrFYL1ot51q8E/pI6aJ938/BBWMZv+xtalERekhxOC6xSXDXUC4b6t7RK8IldsOGGgG6j6LmPmLQaqpFUvt67TSW9XNkau7rhtzP9yB+ihC5xBfK4FW6LzVZ3TGXHcd+k+r3artPX8qRGlqLz/c9Zjoc5cJARYg1uv0YIIUw3GNglSI96c/Dw2dvFgVDyAVrBUhZPz3runhgUiNEs6/rrK4oJQvRdkA7s9bV7Tk83u2jT/6VClBqfdQgYnQceg2X5Di0NPVIrgDnKDybrAUMbq6Sksqxu/TU7e1/pb/LhZtfMJRvEFveFcI+5zkzccJc56HMkZyyfYoQU8+BY1BwdXvOkllrzhR1x1isZnedpe9sa9UQLebiTI7p0AqkJQvPZiJCrjgsNAWADUyw7ShofTfC93sqwC8UL2r1CcY3yHC3C32uxXe8VgI076lT0jhxQmoHjB0vpftO6aYxkfteaMgpRBMPbrf3RxMTSp9qkkDzd9u1uOsSanRqIWI5Ee1BiQowTtFtuxApb5L0deUpKW+xMmD7hkRe+voJLLll6zTFc+QMgPblzy33s/GJ2BatO1KlSPU2Wk5EiUQHETYpgw5qYveYfYS6wdiDW7kraswtvM3mZuW+RFuJM4QIOY/vE2TJ0i77RYhKOs2eO47dguoVvOcIB7uFKGEV9OgkOxvl4siUSWmq9/uWElvUiw20dBRchlcclO9Nw46XK/ZWYHUgtaxzAR0dc1RuiltIa1S3zJKXlY0Meu+4dSEkiS825yiprHOh66JWqQ2aOnFub89fqvkyqeyaCpX+NslSpL4neC5Mpmg07lFaQzpPOFdX8J3XXM+3NcMnybSdm/N9vdxrIJeMNwCnjg0pGy01O4QKZQyGd8LckawijyYi5Fi+L/ERUBV9GV4RcsZXHIQWu7Y6DykXw2iwxIRLxc4aofWXjog0ICOjA6J6zqTnexkBFV0d2c8ILxntZnkQV6F6ESwPUQ1cO0jC8huGjqPOJgMxk9Wtsz8ochAjQinPkijtmVVXFFqOr92uoijLYLRbjYqiKHHU2ZaBmNGxi4pP6Y6KUFEURVEURVEURVGU5fAvWp21ELsKbmIAAAAASUVORK5CYII=",[[1.47066364891549,103.605646858975],[1.16218335265381,104.087962389458]],0.698039215686274,null,"tmap401","kde_mrtlrt_bw_raster"]},{"method":"addLegend","args":[{"colors":["#F4F3F8","#DDDDEC","#B8B8D9","#9490C3","#7466AE","#582F93"],"labels":["0.0000000 to 0.0000005","0.0000005 to 0.0000010","0.0000010 to 0.0000015","0.0000015 to 0.0000020","0.0000020 to 0.0000025","0.0000025 to 0.0000030"],"na_color":null,"na_label":"NA","opacity":0.698039215686274,"position":"topright","type":"unknown","title":"v","extra":null,"layerId":"legend401","className":"info legend kde_mrtlrt_bw_raster","group":"kde_mrtlrt_bw_raster"}]},{"method":"addLayersControl","args":[[],"kde_mrtlrt_bw_raster",{"collapsed":true,"autoZIndex":true,"position":"topleft"}]}],"limits":{"lat":[1.16218335265381,1.47066364891549],"lng":[103.605646858975,104.087962389458]},"fitBounds":[1.1641988317039,103.605646858975,1.4706519681352,104.085357795856,[]]},"evals":[],"jsHooks":[]}</script>
</div>
<p>Analysis: From the interactive map above, we can see that North-west, North-east and South-Central area has a higher density of MRT and LRT station, ranging 0.0000020 to 0.0000030.</p>
<h3 id="tourist-attractions">Tourist Attractions</h3>
<h4 id="rescalling-kde-values-to-kmkilometer-3"><strong>Rescalling KDE values to km(kilometer)</strong></h4>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>tourism_sg_ppp_km</span> <span class='op'>&lt;-</span> <span class='fu'>rescale</span><span class='op'>(</span><span class='va'>tourism_sg_ppp</span>, <span class='fl'>1000</span>, <span class='st'>'km'</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>kde_tourism_sg_bw</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/density.html'>density</a></span><span class='op'>(</span><span class='va'>tourism_sg_ppp_km</span>,
                                   sigma<span class='op'>=</span><span class='va'>bw.diggle</span>,
                                   edge<span class='op'>=</span><span class='cn'>TRUE</span>,
                                   kernel<span class='op'>=</span><span class='st'>"gaussian"</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<h4 id="plotting-of-kernel-density-estimation-maps-3"><strong>Plotting of Kernel Density Estimation Maps</strong></h4>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/graphics/par.html'>par</a></span><span class='op'>(</span>mfrow<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span>,<span class='fl'>2</span><span class='op'>)</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='va'>kde_tourism_sg_bw</span>,  main <span class='op'>=</span> <span class='st'>"KDE Map"</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='va'>tourism_sg_ppp_km</span>,  main <span class='op'>=</span> <span class='st'>"Point Map"</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="take-home-exercise-2_files/figure-html5/unnamed-chunk-98-1.png" width="1152" /></p>
</div>
<h4 id="converting-kde-output-into-grid-object.-3">Converting KDE output into grid object.</h4>
<p>Converting it so that it is suitable for mapping purposes.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>gridded_kde_tourism_sg_bw</span> <span class='op'>&lt;-</span> <span class='fu'>as.SpatialGridDataFrame.im</span><span class='op'>(</span><span class='va'>kde_tourism_sg_bw</span><span class='op'>)</span>
<span class='fu'>spplot</span><span class='op'>(</span><span class='va'>gridded_kde_tourism_sg_bw</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="take-home-exercise-2_files/figure-html5/unnamed-chunk-99-1.png" width="624" /></p>
</div>
<p>The density map using grid shows a better visualisation of the listings as it is more visible to see those that are less clustered together as shown with the lighter shade of blue.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>kde_tourism_sg_bw_m</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/density.html'>density</a></span><span class='op'>(</span><span class='va'>tourism_sg_ppp</span>,
                                   sigma<span class='op'>=</span><span class='va'>bw.diggle</span>,
                                   edge<span class='op'>=</span><span class='cn'>TRUE</span>,
                                   kernel<span class='op'>=</span><span class='st'>"gaussian"</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>gridded_kde_tourism_sg_bw_m</span> <span class='op'>&lt;-</span> <span class='fu'>as.SpatialGridDataFrame.im</span><span class='op'>(</span><span class='va'>kde_tourism_sg_bw_m</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<h4 id="converting-gridded-output-into-raster-3"><strong>CONVERTING GRIDDED OUTPUT INTO RASTER</strong></h4>
<p>Converting the gridded kernal density objects into RasterLayer object by using raster() of <strong>raster</strong> package.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>kde_tourism_bw_raster</span> <span class='op'>&lt;-</span> <span class='fu'>raster</span><span class='op'>(</span><span class='va'>gridded_kde_tourism_sg_bw_m</span><span class='op'>)</span>
<span class='va'>kde_tourism_bw_raster</span>
</code></pre>
</div>
<pre><code>class      : RasterLayer 
dimensions : 128, 128, 16384  (nrow, ncol, ncell)
resolution : 417.0614, 264.7348  (x, y)
extent     : 2663.926, 56047.79, 16357.98, 50244.03  (xmin, xmax, ymin, ymax)
crs        : NA 
source     : memory
names      : v 
values     : -2.900487e-21, 2.577529e-05  (min, max)</code></pre>
</div>
<p>The crs property is NA as shown above.</p>
<h4 id="assigning-projection-systems-display-the-kernel-density-maps-on-openstreetmap-of-singapore-3"><strong>ASSIGNING PROJECTION SYSTEMS</strong> display the kernel density maps on openstreetmap of Singapore</h4>
<p>Assigning the CRS information on kde_airbnb_june2019_bw_raster Raster Layer</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>projection</span><span class='op'>(</span><span class='va'>kde_tourism_bw_raster</span><span class='op'>)</span> <span class='op'>&lt;-</span> <span class='fu'>CRS</span><span class='op'>(</span><span class='st'>"+init=EPSG:3414"</span><span class='op'>)</span>
<span class='va'>kde_tourism_bw_raster</span>
</code></pre>
</div>
<pre><code>class      : RasterLayer 
dimensions : 128, 128, 16384  (nrow, ncol, ncell)
resolution : 417.0614, 264.7348  (x, y)
extent     : 2663.926, 56047.79, 16357.98, 50244.03  (xmin, xmax, ymin, ymax)
crs        : +proj=tmerc +lat_0=1.36666666666667 +lon_0=103.833333333333 +k=1 +x_0=28001.642 +y_0=38744.572 +ellps=WGS84 +units=m +no_defs 
source     : memory
names      : v 
values     : -2.900487e-21, 2.577529e-05  (min, max)</code></pre>
</div>
<p>The CRS property is now available.</p>
<p>Plotting the raster layer on openstreetmap using interactive mode</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>tmap_mode</span><span class='op'>(</span><span class='st'>"view"</span><span class='op'>)</span>
<span class='fu'>tm_basemap</span><span class='op'>(</span><span class='st'>"OpenStreetMap"</span><span class='op'>)</span> <span class='op'>+</span>
<span class='fu'>tm_shape</span><span class='op'>(</span><span class='va'>kde_tourism_bw_raster</span><span class='op'>)</span> <span class='op'>+</span> 
  <span class='fu'>tm_raster</span><span class='op'>(</span><span class='st'>"v"</span>, palette <span class='op'>=</span> <span class='st'>"Purples"</span>, alpha <span class='op'>=</span> <span class='fl'>0.7</span><span class='op'>)</span>  
</code></pre>
</div>
<div id="htmlwidget-6c8d95784320b06afe98" style="width:624px;height:384px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-6c8d95784320b06afe98">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"createMapPane","args":["tmap401",401]},{"method":"addProviderTiles","args":["OpenStreetMap",null,"OpenStreetMap",{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"pane":"tilePane"}]},{"method":"addRasterImage","args":["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKEAAABnCAYAAABo4CIfAAAFFklEQVR4nO2dPVIcMRCFe10EBEuEC4cO8FZR5SPYoU/gg/oEDiHgAK5yYAKqIIByxgZkOBo8aDX67W61Ru/LbHb+pDdPUkvT2hAgIqL90/PL0t+2J8cbzXsZDRQuLQtwLr790/MLxCjD0IUacr8YECQfQxZkjfhcIMZ63rW+AW04BQh4GOotlhIg3LAOs4XHNRDQdD6IsQxThRYTTG4lt2p6IcY8zPQJuQUDAfaDCRGmCob7d1K0vn5vNH1rOSrLDSjXno8DuGEezQrLimAkgAjzaNIcr1mAROt/vhi5z6/2xo5UMT4nxNzzMuKFMpL4iA4FmLI4IpfpnGsRtehDjCbAie3J8Sbl2UtE5Dtv72I0EaJZG9qhpP3T84v0Cy95fohQiSW3cgU0/Zuz0rnOJyVENMcNicU4p2Y9JODY+bm6BZL9UBERQny8xCq+trxb9ykhwk5IFUpJ2a9OhBAgL26TWuuKrQXng/WGIEAZUj+4mv+tp1DOUesbAHHm4soRklXRucAJO6QXcaWCOGGHrO1lhxN2DOfnDi3dFU7YMZwzKy0NBAOTAbDeQrFZsPUHHYGldYwc55Gkq+96gQ7aIkSfEBygbSwQIfCiKcQq20VTvF40m+Tq7xzAOEgJE80xSMbUymq44NhwOyJECKrgEGQXqdaALbidEH1C0JxkEcIFgRRwQpCFRJgGIgTNgQhBcyBCkEzTGRMMSoAkcEKQhOSCBizvB0E0VtMkZ2MC46G1nAtOCLyE0om4v6kFIgReQrlsuFvHxYGJRgpa0AZraUSSnTA16yewRY3glo5VW0/oCq7V9l0Qfxm1KUKaf2OSsvcGR4raUPLHWK49Szw87omI6MPZVvW61prVUooHJjUO5SYEn87jirLHXZCkBdlbeaRgYnQc2obLugu6SIhvjcKbU7w1QepvQ8fGrtuLOCf3I+IV4drFN1GUQCc18U6rQtQU6OXVLf388YuIiL59/0xfv3wsOs8ogvNRtIAhJrjtyfGGM4Gjde6u7+nu+p7+/H58/b+UMph+M7IAiTx9QqmmLiXkY8lNU9ntTouOs/5cmhT1CSdKN3jJyaNXWllaznp5dfvqgJ8uzmi3O6Xz8/fRPjNE+J+kvXmXKN3YxQ3NxNw39zpa8cXLq1siojf9QDdE02uoSRORRa2heWcNgeSeez66zcXXHM9HyBBgnCwnzNkNMnRsjXOV7ngZ4uFxnx1ayQlKQ4Rhjoh4N3/WPG7OUpOeEtMsje1pT9Otlaw4IVdi7hxyNxicqNknuJT5vcL90jExbRejpEJDx0iuCIL48lH72i4WlG1VebkbFiLAzE/WotbSi7izKRpLxXJI6Wb4ugW9LDWzzuLomHvazbdeMOV32vjKwOq9rgXv6FiicFM67NYq9ebm75t7huPJ4J071r4JS+KbN7tTCKamhQBxmo6OrVZoqN/a4yIL6xwUdk2Bci98sILVfYLXwkGIBv0eoA1rnHCtrqD1/e2odJ8abu7cklkjXMFBgHwkBY5zke68xwLJEtcEcnTvhLkjWWAPFRFyO5I7f2vF8SD6MlaTlcsnxMkltZ7DysvQGyJ9wlGZf5iP8kuni/WElsGAqJ4jayk1egSiqyNpHZ3e7dgGzawM5goUL8F4mKrg2kGSL79h6DxwNhuYCVZz90vRz+0HMyIcIY0c8LOqpsj9hAArogEA49HbVCMAAMSBs42BmdGxC8QHmgMRAgAAAAAAAAAAYBz+ARhcgPS72HGhAAAAAElFTkSuQmCC",[[1.47066364891549,103.605646858975],[1.16218335265381,104.087962389458]],0.698039215686274,null,"tmap401","kde_tourism_bw_raster"]},{"method":"addLegend","args":[{"colors":["#F4F3F8","#DDDDEC","#B8B8D9","#9490C3","#7466AE","#582F93"],"labels":["0.000000 to 0.000005","0.000005 to 0.000010","0.000010 to 0.000015","0.000015 to 0.000020","0.000020 to 0.000025","0.000025 to 0.000030"],"na_color":null,"na_label":"NA","opacity":0.698039215686274,"position":"topright","type":"unknown","title":"v","extra":null,"layerId":"legend401","className":"info legend kde_tourism_bw_raster","group":"kde_tourism_bw_raster"}]},{"method":"addLayersControl","args":[[],"kde_tourism_bw_raster",{"collapsed":true,"autoZIndex":true,"position":"topleft"}]}],"limits":{"lat":[1.16218335265381,1.47066364891549],"lng":[103.605646858975,104.087962389458]},"fitBounds":[1.1641988317039,103.605646858975,1.4706519681352,104.085357795856,[]]},"evals":[],"jsHooks":[]}</script>
</div>
<p>Analysis: There is high concentration of tourist attractions in the south-central, with a high density of 0.000015 to 0.000020.</p>
<h3 id="comparing-spatial-point-patterns-using-kde">Comparing Spatial Point Patterns using KDE</h3>
<p>The areas we will look into will be Anson, Bugis, Chinatown and Geylang as there are higher density of Airbnb</p>
<h4 id="extracting-study-area"><strong>EXTRACTING STUDY AREA</strong></h4>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>downtown</span> <span class='op'>=</span> <span class='va'>mpsz</span><span class='op'>[</span><span class='va'>mpsz</span><span class='op'>@</span><span class='va'>data</span><span class='op'>$</span><span class='va'>PLN_AREA_N</span> <span class='op'>==</span> <span class='st'>"DOWNTOWN CORE"</span>,<span class='op'>]</span> <span class='co'>#for Anson</span>
<span class='va'>rochor</span> <span class='op'>=</span> <span class='va'>mpsz</span><span class='op'>[</span><span class='va'>mpsz</span><span class='op'>@</span><span class='va'>data</span><span class='op'>$</span><span class='va'>PLN_AREA_N</span> <span class='op'>==</span> <span class='st'>"ROCHOR"</span>,<span class='op'>]</span> <span class='co'># for Bugis</span>
<span class='va'>outram</span> <span class='op'>=</span> <span class='va'>mpsz</span><span class='op'>[</span><span class='va'>mpsz</span><span class='op'>@</span><span class='va'>data</span><span class='op'>$</span><span class='va'>PLN_AREA_N</span> <span class='op'>==</span> <span class='st'>"OUTRAM"</span>,<span class='op'>]</span> <span class='co'># for Chinatown</span>
<span class='va'>geylang</span> <span class='op'>=</span> <span class='va'>mpsz</span><span class='op'>[</span><span class='va'>mpsz</span><span class='op'>@</span><span class='va'>data</span><span class='op'>$</span><span class='va'>PLN_AREA_N</span> <span class='op'>==</span> <span class='st'>"GEYLANG"</span>,<span class='op'>]</span> <span class='co'># for Geylang</span>
</code></pre>
</div>
</div>
<p>Plotting target planning areas</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/graphics/par.html'>par</a></span><span class='op'>(</span>mfrow<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>2</span>,<span class='fl'>2</span><span class='op'>)</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='va'>downtown</span>, main <span class='op'>=</span> <span class='st'>"Downtown"</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='va'>rochor</span>, main <span class='op'>=</span> <span class='st'>"Rochor"</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='va'>outram</span>, main <span class='op'>=</span> <span class='st'>"Outram"</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='va'>geylang</span>, main <span class='op'>=</span> <span class='st'>"Geylang"</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="take-home-exercise-2_files/figure-html5/unnamed-chunk-106-1.png" width="624" /></p>
</div>
<h4 id="converting-the-spatial-point-data-frame-into-generic-sp-format"><strong>CONVERTING THE SPATIAL POINT DATA FRAME INTO GENERIC SP FORMAT</strong></h4>
<p>Converting SpatialPolygonsDataFrame layers into generic spatialpolygons layers.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>downtown_sp</span> <span class='op'>=</span> <span class='fu'>as</span><span class='op'>(</span><span class='va'>downtown</span>, <span class='st'>"SpatialPolygons"</span><span class='op'>)</span>
<span class='va'>rochor_sp</span> <span class='op'>=</span> <span class='fu'>as</span><span class='op'>(</span><span class='va'>rochor</span>, <span class='st'>"SpatialPolygons"</span><span class='op'>)</span>
<span class='va'>outram_sp</span> <span class='op'>=</span> <span class='fu'>as</span><span class='op'>(</span><span class='va'>outram</span>, <span class='st'>"SpatialPolygons"</span><span class='op'>)</span>
<span class='va'>geylang_sp</span> <span class='op'>=</span> <span class='fu'>as</span><span class='op'>(</span><span class='va'>geylang</span>, <span class='st'>"SpatialPolygons"</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<h4 id="creating-owin-object"><strong>CREATING OWIN OBJECT</strong></h4>
<p>Converting SpatialPolygons objects into owin objects that is required by <strong>spatstat</strong></p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>downtown_owin</span> <span class='op'>=</span> <span class='fu'>as</span><span class='op'>(</span><span class='va'>downtown_sp</span>, <span class='st'>"owin"</span><span class='op'>)</span>
<span class='va'>rochor_owin</span> <span class='op'>=</span> <span class='fu'>as</span><span class='op'>(</span><span class='va'>rochor_sp</span>, <span class='st'>"owin"</span><span class='op'>)</span>
<span class='va'>outram_owin</span> <span class='op'>=</span> <span class='fu'>as</span><span class='op'>(</span><span class='va'>outram_sp</span>, <span class='st'>"owin"</span><span class='op'>)</span>
<span class='va'>geylang_owin</span> <span class='op'>=</span> <span class='fu'>as</span><span class='op'>(</span><span class='va'>geylang_sp</span>, <span class='st'>"owin"</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<h4 id="combining-airbnb-june-2019-hotels-mrtlrt-tourism-points-and-the-study-area"><strong>COMBINING AIRBNB JUNE 2019, HOTELS, MRTLRT, TOURISM POINTS AND THE STUDY AREA</strong></h4>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>airbnb_june2019_downtown_ppp</span> <span class='op'>=</span> <span class='va'>airbnb_june2019_ppp_jit</span><span class='op'>[</span><span class='va'>downtown_owin</span><span class='op'>]</span>
<span class='va'>airbnb_june2019_rochor_ppp</span> <span class='op'>=</span> <span class='va'>airbnb_june2019_ppp_jit</span><span class='op'>[</span><span class='va'>rochor_owin</span><span class='op'>]</span>
<span class='va'>airbnb_june2019_outram_ppp</span> <span class='op'>=</span> <span class='va'>airbnb_june2019_ppp_jit</span><span class='op'>[</span><span class='va'>outram_owin</span><span class='op'>]</span>
<span class='va'>airbnb_june2019_geylang_ppp</span> <span class='op'>=</span> <span class='va'>airbnb_june2019_ppp_jit</span><span class='op'>[</span><span class='va'>geylang_owin</span><span class='op'>]</span>

<span class='va'>hotels_downtown_ppp</span> <span class='op'>=</span> <span class='va'>hotels_ppp_jit</span><span class='op'>[</span><span class='va'>downtown_owin</span><span class='op'>]</span>
<span class='va'>hotels_rochor_ppp</span> <span class='op'>=</span> <span class='va'>hotels_ppp_jit</span><span class='op'>[</span><span class='va'>rochor_owin</span><span class='op'>]</span>
<span class='va'>hotels_outram_ppp</span> <span class='op'>=</span> <span class='va'>hotels_ppp_jit</span><span class='op'>[</span><span class='va'>outram_owin</span><span class='op'>]</span>
<span class='va'>hotels_geylang_ppp</span> <span class='op'>=</span> <span class='va'>hotels_ppp_jit</span><span class='op'>[</span><span class='va'>geylang_owin</span><span class='op'>]</span>

<span class='va'>mrtlrt_downtown_ppp</span> <span class='op'>=</span> <span class='va'>mrtlrt_ppp</span><span class='op'>[</span><span class='va'>downtown_owin</span><span class='op'>]</span>
<span class='va'>mrtlrt_rochor_ppp</span> <span class='op'>=</span> <span class='va'>mrtlrt_ppp</span><span class='op'>[</span><span class='va'>rochor_owin</span><span class='op'>]</span>
<span class='va'>mrtlrt_outram_ppp</span> <span class='op'>=</span> <span class='va'>mrtlrt_ppp</span><span class='op'>[</span><span class='va'>outram_owin</span><span class='op'>]</span>
<span class='va'>mrtlrt_geylang_ppp</span> <span class='op'>=</span> <span class='va'>mrtlrt_ppp</span><span class='op'>[</span><span class='va'>geylang_owin</span><span class='op'>]</span>

<span class='va'>tourism_downtown_ppp</span> <span class='op'>=</span> <span class='va'>tourism_ppp_jit</span><span class='op'>[</span><span class='va'>downtown_owin</span><span class='op'>]</span>
<span class='va'>tourism_rochor_ppp</span> <span class='op'>=</span> <span class='va'>tourism_ppp_jit</span><span class='op'>[</span><span class='va'>rochor_owin</span><span class='op'>]</span>
<span class='va'>tourism_outram_ppp</span> <span class='op'>=</span> <span class='va'>tourism_ppp_jit</span><span class='op'>[</span><span class='va'>outram_owin</span><span class='op'>]</span>
<span class='va'>tourism_geylang_ppp</span> <span class='op'>=</span> <span class='va'>tourism_ppp_jit</span><span class='op'>[</span><span class='va'>geylang_owin</span><span class='op'>]</span>
</code></pre>
</div>
</div>
<p>Next, rescale() function is used to trasnform the unit of measurement from metre to kilometre</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>airbnb_june2019_downtown_ppp_km</span> <span class='op'>=</span> <span class='fu'>rescale</span><span class='op'>(</span><span class='va'>airbnb_june2019_downtown_ppp</span>, <span class='fl'>1000</span>, <span class='st'>"km"</span><span class='op'>)</span>
<span class='va'>airbnb_june2019_rochor_ppp_km</span> <span class='op'>=</span> <span class='fu'>rescale</span><span class='op'>(</span><span class='va'>airbnb_june2019_rochor_ppp</span>, <span class='fl'>1000</span>, <span class='st'>"km"</span><span class='op'>)</span>
<span class='va'>airbnb_june2019_outram_ppp_km</span> <span class='op'>=</span> <span class='fu'>rescale</span><span class='op'>(</span><span class='va'>airbnb_june2019_outram_ppp</span>, <span class='fl'>1000</span>, <span class='st'>"km"</span><span class='op'>)</span>
<span class='va'>airbnb_june2019_geylang_ppp_km</span> <span class='op'>=</span> <span class='fu'>rescale</span><span class='op'>(</span><span class='va'>airbnb_june2019_geylang_ppp</span>, <span class='fl'>1000</span>, <span class='st'>"km"</span><span class='op'>)</span>

<span class='va'>hotels_downtown_ppp_km</span> <span class='op'>=</span> <span class='fu'>rescale</span><span class='op'>(</span><span class='va'>hotels_downtown_ppp</span>, <span class='fl'>1000</span>, <span class='st'>"km"</span><span class='op'>)</span>
<span class='va'>hotels_rochor_ppp_km</span> <span class='op'>=</span> <span class='fu'>rescale</span><span class='op'>(</span><span class='va'>hotels_rochor_ppp</span>, <span class='fl'>1000</span>, <span class='st'>"km"</span><span class='op'>)</span>
<span class='va'>hotels_outram_ppp_km</span> <span class='op'>=</span> <span class='fu'>rescale</span><span class='op'>(</span><span class='va'>hotels_outram_ppp</span>, <span class='fl'>1000</span>, <span class='st'>"km"</span><span class='op'>)</span>
<span class='va'>hotels_geylang_ppp_km</span> <span class='op'>=</span> <span class='fu'>rescale</span><span class='op'>(</span><span class='va'>hotels_geylang_ppp</span>, <span class='fl'>1000</span>, <span class='st'>"km"</span><span class='op'>)</span>

<span class='va'>mrtlrt_downtown_ppp_km</span> <span class='op'>=</span> <span class='fu'>rescale</span><span class='op'>(</span><span class='va'>mrtlrt_downtown_ppp</span>, <span class='fl'>1000</span>, <span class='st'>"km"</span><span class='op'>)</span>
<span class='va'>mrtlrt_rochor_ppp_km</span> <span class='op'>=</span> <span class='fu'>rescale</span><span class='op'>(</span><span class='va'>mrtlrt_rochor_ppp</span>, <span class='fl'>1000</span>, <span class='st'>"km"</span><span class='op'>)</span>
<span class='va'>mrtlrt_outram_ppp_km</span> <span class='op'>=</span> <span class='fu'>rescale</span><span class='op'>(</span><span class='va'>mrtlrt_outram_ppp</span>, <span class='fl'>1000</span>, <span class='st'>"km"</span><span class='op'>)</span>
<span class='va'>mrtlrt_geylang_ppp_km</span> <span class='op'>=</span> <span class='fu'>rescale</span><span class='op'>(</span><span class='va'>mrtlrt_geylang_ppp</span>, <span class='fl'>1000</span>, <span class='st'>"km"</span><span class='op'>)</span>

<span class='va'>tourism_downtown_ppp_km</span> <span class='op'>=</span> <span class='fu'>rescale</span><span class='op'>(</span><span class='va'>tourism_downtown_ppp</span>, <span class='fl'>1000</span>, <span class='st'>"km"</span><span class='op'>)</span>
<span class='va'>tourism_rochor_ppp_km</span> <span class='op'>=</span> <span class='fu'>rescale</span><span class='op'>(</span><span class='va'>tourism_rochor_ppp</span>, <span class='fl'>1000</span>, <span class='st'>"km"</span><span class='op'>)</span>
<span class='va'>tourism_outram_ppp_km</span> <span class='op'>=</span> <span class='fu'>rescale</span><span class='op'>(</span><span class='va'>tourism_outram_ppp</span>, <span class='fl'>1000</span>, <span class='st'>"km"</span><span class='op'>)</span>
<span class='va'>tourism_geylang_ppp_km</span> <span class='op'>=</span> <span class='fu'>rescale</span><span class='op'>(</span><span class='va'>tourism_geylang_ppp</span>, <span class='fl'>1000</span>, <span class='st'>"km"</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<h4 id="airbnb-june-2019"><strong>Airbnb June 2019</strong></h4>
<p>COMPUTING IDE</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/graphics/par.html'>par</a></span><span class='op'>(</span>mfrow<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>2</span>,<span class='fl'>2</span><span class='op'>)</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/stats/density.html'>density</a></span><span class='op'>(</span><span class='va'>airbnb_june2019_downtown_ppp_km</span>, 
             sigma<span class='op'>=</span><span class='va'>bw.diggle</span>, 
             edge<span class='op'>=</span><span class='cn'>TRUE</span>, 
             kernel<span class='op'>=</span><span class='st'>"gaussian"</span><span class='op'>)</span>,
     main<span class='op'>=</span><span class='st'>"Downtown"</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/stats/density.html'>density</a></span><span class='op'>(</span><span class='va'>airbnb_june2019_rochor_ppp_km</span>, 
             sigma<span class='op'>=</span><span class='va'>bw.diggle</span>, 
             edge<span class='op'>=</span><span class='cn'>TRUE</span>, 
             kernel<span class='op'>=</span><span class='st'>"gaussian"</span><span class='op'>)</span>,
     main<span class='op'>=</span><span class='st'>"Rochor"</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/stats/density.html'>density</a></span><span class='op'>(</span><span class='va'>airbnb_june2019_outram_ppp_km</span>, 
             sigma<span class='op'>=</span><span class='va'>bw.diggle</span>, 
             edge<span class='op'>=</span><span class='cn'>TRUE</span>, 
             kernel<span class='op'>=</span><span class='st'>"gaussian"</span><span class='op'>)</span>,
     main<span class='op'>=</span><span class='st'>"Outram"</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/stats/density.html'>density</a></span><span class='op'>(</span><span class='va'>airbnb_june2019_geylang_ppp</span>, 
             sigma<span class='op'>=</span><span class='va'>bw.diggle</span>, 
             edge<span class='op'>=</span><span class='cn'>TRUE</span>, 
             kernel<span class='op'>=</span><span class='st'>"gaussian"</span><span class='op'>)</span>,
     main<span class='op'>=</span><span class='st'>"Geylang"</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="take-home-exercise-2_files/figure-html5/unnamed-chunk-111-1.png" width="768" /></p>
</div>
<h4 id="are-airbnb-listings-are-affected-by-location-factors"><strong>Are Airbnb listings are affected by location factors?</strong></h4>
<p><strong>DOWNTOWN</strong></p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/graphics/par.html'>par</a></span><span class='op'>(</span>mfrow<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>2</span>,<span class='fl'>2</span><span class='op'>)</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='va'>airbnb_june2019_downtown_ppp_km</span>, main <span class='op'>=</span> <span class='st'>"Airbnb"</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='va'>hotels_downtown_ppp_km</span>, main <span class='op'>=</span> <span class='st'>"Hotel"</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='va'>mrtlrt_downtown_ppp_km</span>, main <span class='op'>=</span> <span class='st'>"MRT and LRT"</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='va'>tourism_downtown_ppp_km</span>, main <span class='op'>=</span> <span class='st'>"Tourist Attraction"</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="take-home-exercise-2_files/figure-html5/unnamed-chunk-112-1.png" width="768" /></p>
</div>
<p>Analysis: Even though there are many hotels in the vicinity, there are more Airbnb as compared to hotels. It could be due to easy accessibility to many MRT stations and tourist attractions in the vicinity.</p>
<p><strong>ROCHOR</strong></p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/graphics/par.html'>par</a></span><span class='op'>(</span>mfrow<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>2</span>,<span class='fl'>2</span><span class='op'>)</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='va'>airbnb_june2019_rochor_ppp_km</span>, main <span class='op'>=</span> <span class='st'>"Airbnb"</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='va'>hotels_rochor_ppp_km</span>, main <span class='op'>=</span> <span class='st'>"Hotel"</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='va'>mrtlrt_rochor_ppp_km</span>, main <span class='op'>=</span> <span class='st'>"MRT and LRT"</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='va'>tourism_rochor_ppp_km</span>, main <span class='op'>=</span> <span class='st'>"Tourist Attraction"</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="take-home-exercise-2_files/figure-html5/unnamed-chunk-113-1.png" width="768" /></p>
</div>
<p>Analysis: Even though there are many hotels in the Rochor, there are also many Airbnb as compared to hotels. It could be due to easy accessibility to many MRT stations nearby and tourist attractions in the vicinity.</p>
<p><strong>OUTRAM</strong></p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/graphics/par.html'>par</a></span><span class='op'>(</span>mfrow<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>2</span>,<span class='fl'>2</span><span class='op'>)</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='va'>airbnb_june2019_outram_ppp_km</span>, main <span class='op'>=</span> <span class='st'>"Airbnb"</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='va'>hotels_outram_ppp_km</span>, main <span class='op'>=</span> <span class='st'>"Hotel"</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='va'>mrtlrt_outram_ppp_km</span>, main <span class='op'>=</span> <span class='st'>"MRT and LRT"</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='va'>tourism_outram_ppp_km</span>, main <span class='op'>=</span> <span class='st'>"Tourist Attraction"</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="take-home-exercise-2_files/figure-html5/unnamed-chunk-114-1.png" width="768" /></p>
</div>
<p>Analysis: Even though there are many hotels in the Rochor, there is more Airbnb as compared to hotels. However, there is very little MRT station and some tourist attractions in the vicinity.</p>
<p><strong>GEYLANG</strong></p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/graphics/par.html'>par</a></span><span class='op'>(</span>mfrow<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>2</span>,<span class='fl'>2</span><span class='op'>)</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='va'>airbnb_june2019_geylang_ppp_km</span>, main <span class='op'>=</span> <span class='st'>"Airbnb"</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='va'>hotels_geylang_ppp_km</span>, main <span class='op'>=</span> <span class='st'>"Hotel"</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='va'>mrtlrt_geylang_ppp_km</span>, main <span class='op'>=</span> <span class='st'>"MRT and LRT"</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='va'>tourism_geylang_ppp_km</span>, main <span class='op'>=</span> <span class='st'>"Tourist Attraction"</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="take-home-exercise-2_files/figure-html5/unnamed-chunk-115-1.png" width="768" /></p>
</div>
<p>Analysis: There are many Airbnb in this area, with very little hotels nearby. It is quite accessible to MRT Stations but there is only one tourist attraction in the vicinity.</p>
<p>Overall: Even though the numbers of hotel in thee vicinity is high, there are still many Airbnb listing in all the areas. Every location was very accessible to MRT stations except Outram, but it didnt affect the number of Airbnb in the area. The same goes for tourist attractions, except for Geylang which only have one tourist attraction, but it did not affect the number of Airbnb in the area as well.</p>
<h2 id="second-order-spatial-point-patterns-analysis">Second-order Spatial Point Patterns Analysis</h2>
<ul>
<li><p>Formulate the null hypothesis and alternative hypothesis and select the confidence level.</p></li>
<li><p>Perform the test by using appropriate Second order spatial point patterns analysis technique.</p></li>
<li><p>With reference to the analysis results, draw statistical conclusions.</p></li>
</ul>
<h3 id="nearest-neighbour-analysis">Nearest Neighbour Analysis</h3>
<p>Perform the Clark-Evans test of aggregation for a spatial point pattern by using <em>clarkevans.test()</em> of <strong>statspat</strong>.</p>
<p>The test hypotheses are:</p>
<p>Ho = The distribution of Airbnb listings are randomly distributed.</p>
<p>H1= The distribution of Airbnb listings are not randomly distributed.</p>
<p>The 95% confident interval will be used.</p>
<h3 id="testing-spatial-point-patterns-using-clark-and-evans-test">Testing spatial point patterns using Clark and Evans Test</h3>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>clarkevans.test</span><span class='op'>(</span><span class='va'>airbnb_june2019_sg_ppp</span>,
                correction<span class='op'>=</span><span class='st'>"none"</span>,
                clipregion<span class='op'>=</span><span class='st'>"sg_owin"</span>,
                alternative<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"clustered"</span><span class='op'>)</span>,
                nsim<span class='op'>=</span><span class='fl'>99</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>
    Clark-Evans test
    No edge correction
    Monte Carlo test based on 99 simulations of CSR with fixed n

data:  airbnb_june2019_sg_ppp
R = 0.3608, p-value = 0.01
alternative hypothesis: clustered (R &lt; 1)</code></pre>
</div>
<p>Analysis: The distribution of Airbnb in Singapore is found to be clustered as the R = 0.36 is &lt; 1. The null hypothesis is rejected as the p-value = 0.01 is smaller than 0.05.</p>
<h4 id="clark-and-evans-test-downtown">Clark and Evans Test: Downtown</h4>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>clarkevans.test</span><span class='op'>(</span><span class='va'>airbnb_june2019_downtown_ppp</span>,
                correction<span class='op'>=</span><span class='st'>"none"</span>,
                clipregion<span class='op'>=</span><span class='cn'>NULL</span>,
                alternative<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"two.sided"</span><span class='op'>)</span>,
                nsim<span class='op'>=</span><span class='fl'>999</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>
    Clark-Evans test
    No edge correction
    Monte Carlo test based on 999 simulations of CSR with fixed n

data:  airbnb_june2019_downtown_ppp
R = 0.58171, p-value = 0.002
alternative hypothesis: two-sided</code></pre>
</div>
<p>Analysis: The null hypothesis is rejected as the p-value = 0.002 is smaller than 0.05, showing that the Airbnb Listings in Downtown are not randomly distributed.</p>
<h4 id="clark-and-evans-test-rochor">Clark and Evans Test: Rochor</h4>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>clarkevans.test</span><span class='op'>(</span><span class='va'>airbnb_june2019_rochor_ppp</span>,
                correction<span class='op'>=</span><span class='st'>"none"</span>,
                clipregion<span class='op'>=</span><span class='cn'>NULL</span>,
                alternative<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"two.sided"</span><span class='op'>)</span>,
                nsim<span class='op'>=</span><span class='fl'>999</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>
    Clark-Evans test
    No edge correction
    Monte Carlo test based on 999 simulations of CSR with fixed n

data:  airbnb_june2019_rochor_ppp
R = 0.88245, p-value = 0.002
alternative hypothesis: two-sided</code></pre>
</div>
<p>Analysis: The null hypothesis is rejected as the p-value = 0.002 is smaller than 0.05, showing that the Airbnb Listings in Rochor are not randomly distributed.</p>
<h4 id="clark-and-evans-test-outram">Clark and Evans Test: Outram</h4>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>clarkevans.test</span><span class='op'>(</span><span class='va'>airbnb_june2019_outram_ppp</span>,
                correction<span class='op'>=</span><span class='st'>"none"</span>,
                clipregion<span class='op'>=</span><span class='cn'>NULL</span>,
                alternative<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"two.sided"</span><span class='op'>)</span>,
                nsim<span class='op'>=</span><span class='fl'>999</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>
    Clark-Evans test
    No edge correction
    Monte Carlo test based on 999 simulations of CSR with fixed n

data:  airbnb_june2019_outram_ppp
R = 0.73214, p-value = 0.002
alternative hypothesis: two-sided</code></pre>
</div>
<p>Analysis: The null hypothesis is rejected as the p-value = 0.002 is smaller than 0.05, showing that the Airbnb Listings in Outram are not randomly distributed.</p>
<h4 id="clark-and-evans-test-geylang">Clark and Evans Test: Geylang</h4>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>clarkevans.test</span><span class='op'>(</span><span class='va'>airbnb_june2019_geylang_ppp</span>,
                correction<span class='op'>=</span><span class='st'>"none"</span>,
                clipregion<span class='op'>=</span><span class='cn'>NULL</span>,
                alternative<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"two.sided"</span><span class='op'>)</span>,
                nsim<span class='op'>=</span><span class='fl'>999</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>
    Clark-Evans test
    No edge correction
    Monte Carlo test based on 999 simulations of CSR with fixed n

data:  airbnb_june2019_geylang_ppp
R = 0.48742, p-value = 0.002
alternative hypothesis: two-sided</code></pre>
</div>
<p>Analysis: The null hypothesis is rejected as the p-value = 0.002 is smaller than 0.05, showing that the Airbnb Listings in Geylang are not randomly distributed.</p>
<p>Overall: ALl the areas shows that the Airbnb listing are not randomly distributed. AS Rochor and Outram has R value nearer to 1, we will focus on those 2 areas for further analysis.</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode r distill-force-highlighting-css"><code class="sourceCode r"></code></pre></div>
<!--radix_placeholder_article_footer-->
<!--/radix_placeholder_article_footer-->
</div>

<div class="d-appendix">
</div>


<!--radix_placeholder_site_after_body-->
<!--/radix_placeholder_site_after_body-->
<!--radix_placeholder_appendices-->
<div class="appendix-bottom"></div>
<!--/radix_placeholder_appendices-->
<!--radix_placeholder_navigation_after_body-->
<!--/radix_placeholder_navigation_after_body-->

</body>

</html>
